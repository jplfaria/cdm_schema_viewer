import{j as p,R as ys,T as bs,P as xr,C as _s,L as xs,S as ws,a as fu,b as du,c as hu,I as Je,d as Xh,e as cr,f as lr,g as fr,h as dr,A as hr}from"./ui-vendor-BkK_8nd9.js";import{a as Og,R as se,O as Lg,r as U,d as de,g as Ng,e as Fg,f as pu,B as Mg}from"./react-vendor-Dmp0ea_I.js";import{c as Pg,u as Dg,H as ze,P as We,B as Bg,g as Gg,E as $g,a as Qh,b as vu,d as gu,e as Ug,f as Hg,h as Vg,R as zg,i as Wg,j as Kg,C as Yg,M as Xg,k as Qg}from"./reactflow-vendor-BCNNANeR.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Es={},mu=Og;Es.createRoot=mu.createRoot,Es.hydrateRoot=mu.hydrateRoot;var Jh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yu=se.createContext&&se.createContext(Jh),Ee=function(){return Ee=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ee.apply(this,arguments)},Jg=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n};function Zh(e){return e&&e.map(function(r,n){return se.createElement(r.tag,Ee({key:n},r.attr),Zh(r.child))})}function H(e){return function(r){return se.createElement(Zg,Ee({attr:Ee({},e.attr)},r),Zh(e.child))}}function Zg(e){var r=function(n){var t=e.attr,i=e.size,a=e.title,o=Jg(e,["attr","size","title"]),s=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),se.createElement("svg",Ee({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t,o,{className:u,style:Ee(Ee({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&se.createElement("title",null,a),e.children)};return yu!==void 0?se.createElement(yu.Consumer,null,function(n){return r(n)}):r(Jh)}function em(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function rm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function nm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function tm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function im(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function am(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function om(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(e)}function sm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function um(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function cm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function lm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"}},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"}}]})(e)}function fm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}}]})(e)}function dm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}}]})(e)}function hm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function pm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function vm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function gm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(e)}function mm(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const ep={},{useDebugValue:ym}=se,{useSyncExternalStoreWithSelector:bm}=Dg;let bu=!1;const _m=e=>e;function xm(e,r=_m,n){(ep?"production":void 0)!=="production"&&n&&!bu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bu=!0);const t=bm(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,n);return ym(t),t}const _u=e=>{(ep?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?Pg(e):e,n=(t,i)=>xm(r,t,i);return Object.assign(n,r),n},rp=e=>e?_u(e):_u,wm={mode:"overview",zoom:1,center:{x:0,y:0},showMinimap:!0,showGrid:!0,showLabels:!0,searchQuery:"",selectedTypes:["core","relationship","metadata","experimental","enum"],selectedDomains:[],showRelationships:!0,selectedNodes:[],hoveredNode:null,focusedNode:null,theme:"light",colorScheme:"default",fontSize:"medium",showDescriptions:!0,animateTransitions:!0},tr=rp(e=>({...wm,setViewMode:r=>e({mode:r}),setZoom:r=>e({zoom:r}),setCenter:r=>e({center:r}),toggleMinimap:()=>e(r=>({showMinimap:!r.showMinimap})),toggleGrid:()=>e(r=>({showGrid:!r.showGrid})),toggleLabels:()=>e(r=>({showLabels:!r.showLabels})),setSearchQuery:r=>e({searchQuery:r}),toggleEntityType:r=>e(n=>({selectedTypes:n.selectedTypes.includes(r)?n.selectedTypes.filter(i=>i!==r):[...n.selectedTypes,r]})),toggleDomain:r=>e(n=>({selectedDomains:n.selectedDomains.includes(r)?n.selectedDomains.filter(i=>i!==r):[...n.selectedDomains,r]})),toggleRelationships:()=>e(r=>({showRelationships:!r.showRelationships})),clearFilters:()=>e({searchQuery:"",selectedTypes:["core","relationship","metadata","experimental","enum"],selectedDomains:[],showRelationships:!0}),selectNode:(r,n=!1)=>e(t=>n?{selectedNodes:t.selectedNodes.includes(r)?t.selectedNodes.filter(a=>a!==r):[...t.selectedNodes,r]}:{selectedNodes:[r]}),clearSelection:()=>e({selectedNodes:[],focusedNode:null}),setHoveredNode:r=>e({hoveredNode:r}),setFocusedNode:r=>e({focusedNode:r}),setTheme:r=>e({theme:r}),setColorScheme:r=>e({colorScheme:r}),setFontSize:r=>e({fontSize:r}),toggleDescriptions:()=>e(r=>({showDescriptions:!r.showDescriptions})),toggleAnimations:()=>e(r=>({animateTransitions:!r.animateTransitions}))}));function Em(){const{theme:e,setTheme:r,colorScheme:n,setColorScheme:t,fontSize:i,setFontSize:a}=tr();return p.jsxs("header",{className:"flex items-center justify-between border-b bg-background px-4 py-3",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("h1",{className:"text-xl font-bold",children:"CDM Schema Viewer"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"KBase Common Data Model"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>r(e==="light"?"dark":"light"),className:"rounded p-2 hover:bg-muted","aria-label":"Toggle theme",children:e==="light"?p.jsx(dm,{size:18}):p.jsx(gm,{size:18})}),p.jsxs(ys,{children:[p.jsx(bs,{asChild:!0,children:p.jsx("button",{className:"rounded p-2 hover:bg-muted","aria-label":"Settings",children:p.jsx(vm,{size:18})})}),p.jsx(xr,{children:p.jsxs(_s,{className:"z-50 min-w-[220px] rounded-md border bg-background p-1 shadow-lg",sideOffset:5,children:[p.jsx(xs,{className:"px-2 py-1.5 text-sm font-semibold",children:"Display Settings"}),p.jsx(ws,{className:"my-1 h-px bg-border"}),p.jsxs(fu,{children:[p.jsxs(du,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",children:["Color Scheme",p.jsx("div",{className:"ml-auto text-xs text-muted-foreground",children:n})]}),p.jsx(xr,{children:p.jsx(hu,{className:"z-50 min-w-[160px] rounded-md border bg-background p-1 shadow-lg",sideOffset:2,alignOffset:-5,children:["default","colorblind","highContrast"].map(o=>p.jsxs(Je,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:()=>t(o),children:[o,n===o&&p.jsx("span",{className:"ml-auto",children:"✓"})]},o))})})]}),p.jsxs(fu,{children:[p.jsxs(du,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",children:["Font Size",p.jsx("div",{className:"ml-auto text-xs text-muted-foreground",children:i})]}),p.jsx(xr,{children:p.jsx(hu,{className:"z-50 min-w-[160px] rounded-md border bg-background p-1 shadow-lg",sideOffset:2,alignOffset:-5,children:["small","medium","large"].map(o=>p.jsxs(Je,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:()=>a(o),children:[o,i===o&&p.jsx("span",{className:"ml-auto",children:"✓"})]},o))})})]})]})})]}),p.jsx("button",{className:"rounded p-2 hover:bg-muted","aria-label":"About",children:p.jsx(um,{size:18})}),p.jsx("a",{href:"https://github.com/jplfaria/cdm_schema_viewer",target:"_blank",rel:"noopener noreferrer",className:"rounded p-2 hover:bg-muted","aria-label":"View on GitHub",children:p.jsx(om,{size:18})})]})]})}function np(e){var r,n,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(n=np(e[r]))&&(t&&(t+=" "),t+=n)}else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function rr(){for(var e,r,n=0,t="",i=arguments.length;n<i;n++)(e=arguments[n])&&(r=np(e))&&(t&&(t+=" "),t+=r);return t}function Sm(){const e=tr(r=>r.theme);return p.jsxs("div",{className:rr("flex h-screen flex-col overflow-hidden",e==="dark"||e==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":""),children:[p.jsx(Em,{}),p.jsx("main",{className:"flex-1 overflow-hidden",children:p.jsx(Lg,{})})]})}const Me=rp(e=>({schema:null,graph:null,loading:!1,error:null,loadSchema:r=>e({schema:r,error:null}),setGraph:r=>e({graph:r}),updateNodePosition:(r,n)=>e(t=>{if(!t.graph)return t;const i=t.graph.nodes.map(a=>a.id===r?{...a,position:n}:a);return{graph:{...t.graph,nodes:i}}}),toggleNodeExpanded:r=>e(n=>{if(!n.graph)return n;const t=n.graph.nodes.map(i=>i.id===r?{...i,data:{...i.data,isExpanded:!i.data.isExpanded}}:i);return{graph:{...n.graph,nodes:t}}}),setLoading:r=>e({loading:r}),setError:r=>e({error:r}),reset:()=>e({schema:null,graph:null,loading:!1,error:null})}));function Am(e,r){if(e.represents_relationship)return"relationship";const n=(r||"").toLowerCase();return["contig","contigcollection","feature","protein","sample"].includes(n)?"core":["contributor","publication","project","datasource"].includes(n)?"metadata":["experiment","protocol","event"].includes(n)?"experimental":"core"}const tp=U.memo(({data:e,selected:r})=>{const{fontSize:n}=tr(),t={small:"text-xs",medium:"text-sm",large:"text-base"},i=[...e.attributes].sort((a,o)=>a.isIdentifier&&!o.isIdentifier?-1:!a.isIdentifier&&o.isIdentifier?1:a.required&&!o.required?-1:!a.required&&o.required?1:a.name.localeCompare(o.name));return p.jsxs(p.Fragment,{children:[p.jsx(ze,{type:"target",position:We.Top,id:"top",className:"opacity-0"}),p.jsx(ze,{type:"target",position:We.Left,id:"left",className:"opacity-0"}),p.jsx(ze,{type:"target",position:We.Right,id:"right",className:"opacity-0"}),p.jsxs("div",{className:rr("min-w-[250px] bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 shadow-sm",t[n],r&&"ring-2 ring-blue-500","font-mono"),children:[p.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 border-b border-gray-300 dark:border-gray-600 px-3 py-2",children:p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:e.label})}),p.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.map(a=>p.jsxs("div",{className:"flex items-center px-3 py-1.5 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.isIdentifier&&p.jsx("span",{className:"text-xs font-bold text-yellow-600",children:"PK"}),(a.name.endsWith("_id")||a.name.includes("fk_"))&&!a.isIdentifier&&p.jsx("span",{className:"text-xs font-bold text-blue-600",children:"FK"}),p.jsx("span",{className:rr(a.required?"font-semibold":"font-normal",a.isIdentifier&&"underline","text-gray-900 dark:text-gray-100"),children:a.name})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.type.toLowerCase(),a.isMultivalued&&"[]",!a.required&&"?"]})})]},a.name))})]}),p.jsx(ze,{type:"source",position:We.Bottom,id:"bottom",className:"opacity-0"}),p.jsx(ze,{type:"source",position:We.Left,id:"left-out",className:"opacity-0"}),p.jsx(ze,{type:"source",position:We.Right,id:"right-out",className:"opacity-0"})]})});tp.displayName="EntityNode";const Cm=({id:e,sourceX:r,sourceY:n,targetX:t,targetY:i,data:a,markerEnd:o,style:s})=>{const[u,l,c]=Gg({sourceX:r,sourceY:n,targetX:t,targetY:i}),f=()=>{switch(a==null?void 0:a.cardinality){case"one-to-many":return"url(#crow-foot-many)";case"many-to-many":return"url(#crow-foot-many)";case"one-to-one":return"url(#crow-foot-one)";default:return o}},d=()=>{switch(a==null?void 0:a.cardinality){case"many-to-many":return"url(#crow-foot-many)";case"one-to-many":return"url(#crow-foot-one)";case"one-to-one":return"url(#crow-foot-one)";default:return}};return p.jsxs(p.Fragment,{children:[p.jsx(Bg,{id:e,path:u,markerEnd:f(),markerStart:d(),style:{...s,strokeWidth:1.5}}),(a==null?void 0:a.label)&&p.jsx($g,{children:p.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${l}px,${c}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan bg-white dark:bg-gray-800 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-sm text-xs font-mono text-gray-700 dark:text-gray-300",children:a.label})})]})},qm=()=>p.jsx("svg",{style:{position:"absolute",width:0,height:0},children:p.jsxs("defs",{children:[p.jsx("marker",{id:"crow-foot-one",markerWidth:"20",markerHeight:"20",refX:"0",refY:"10",orient:"auto",markerUnits:"userSpaceOnUse",children:p.jsx("path",{d:"M 0,10 L 10,10",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"})}),p.jsx("marker",{id:"crow-foot-many",markerWidth:"20",markerHeight:"20",refX:"0",refY:"10",orient:"auto",markerUnits:"userSpaceOnUse",children:p.jsx("path",{d:"M 0,10 L 10,10 M 10,5 L 10,15 M 10,5 L 15,10 M 10,15 L 15,10",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"})}),p.jsxs("marker",{id:"crow-foot-zero-or-one",markerWidth:"20",markerHeight:"20",refX:"0",refY:"10",orient:"auto",markerUnits:"userSpaceOnUse",children:[p.jsx("circle",{cx:"5",cy:"10",r:"3",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"}),p.jsx("path",{d:"M 8,10 L 15,10",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"})]}),p.jsxs("marker",{id:"crow-foot-zero-or-many",markerWidth:"25",markerHeight:"20",refX:"0",refY:"10",orient:"auto",markerUnits:"userSpaceOnUse",children:[p.jsx("circle",{cx:"5",cy:"10",r:"3",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"}),p.jsx("path",{d:"M 8,10 L 15,10 M 15,5 L 15,15 M 15,5 L 20,10 M 15,15 L 20,10",className:"stroke-gray-700 dark:stroke-gray-300",strokeWidth:"1.5",fill:"none"})]})]})});function Os(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yn,xu;function Rm(){if(xu)return yn;xu=1;function e(){this.__data__=[],this.size=0}return yn=e,yn}var bn,wu;function ir(){if(wu)return bn;wu=1;function e(r,n){return r===n||r!==r&&n!==n}return bn=e,bn}var _n,Eu;function Xr(){if(Eu)return _n;Eu=1;var e=ir();function r(n,t){for(var i=n.length;i--;)if(e(n[i][0],t))return i;return-1}return _n=r,_n}var xn,Su;function km(){if(Su)return xn;Su=1;var e=Xr(),r=Array.prototype,n=r.splice;function t(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return xn=t,xn}var wn,Au;function Tm(){if(Au)return wn;Au=1;var e=Xr();function r(n){var t=this.__data__,i=e(t,n);return i<0?void 0:t[i][1]}return wn=r,wn}var En,Cu;function Im(){if(Cu)return En;Cu=1;var e=Xr();function r(n){return e(this.__data__,n)>-1}return En=r,En}var Sn,qu;function jm(){if(qu)return Sn;qu=1;var e=Xr();function r(n,t){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,t])):i[a][1]=t,this}return Sn=r,Sn}var An,Ru;function Qr(){if(Ru)return An;Ru=1;var e=Rm(),r=km(),n=Tm(),t=Im(),i=jm();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=t,a.prototype.set=i,An=a,An}var Cn,ku;function Om(){if(ku)return Cn;ku=1;var e=Qr();function r(){this.__data__=new e,this.size=0}return Cn=r,Cn}var qn,Tu;function Lm(){if(Tu)return qn;Tu=1;function e(r){var n=this.__data__,t=n.delete(r);return this.size=n.size,t}return qn=e,qn}var Rn,Iu;function Nm(){if(Iu)return Rn;Iu=1;function e(r){return this.__data__.get(r)}return Rn=e,Rn}var kn,ju;function Fm(){if(ju)return kn;ju=1;function e(r){return this.__data__.has(r)}return kn=e,kn}var Tn,Ou;function ip(){if(Ou)return Tn;Ou=1;var e=typeof de=="object"&&de&&de.Object===Object&&de;return Tn=e,Tn}var In,Lu;function te(){if(Lu)return In;Lu=1;var e=ip(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=e||r||Function("return this")();return In=n,In}var jn,Nu;function ar(){if(Nu)return jn;Nu=1;var e=te(),r=e.Symbol;return jn=r,jn}var On,Fu;function Mm(){if(Fu)return On;Fu=1;var e=ar(),r=Object.prototype,n=r.hasOwnProperty,t=r.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=t.call(o);return l&&(s?o[i]=u:delete o[i]),c}return On=a,On}var Ln,Mu;function Pm(){if(Mu)return Ln;Mu=1;var e=Object.prototype,r=e.toString;function n(t){return r.call(t)}return Ln=n,Ln}var Nn,Pu;function Pe(){if(Pu)return Nn;Pu=1;var e=ar(),r=Mm(),n=Pm(),t="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:t:a&&a in Object(s)?r(s):n(s)}return Nn=o,Nn}var Fn,Du;function re(){if(Du)return Fn;Du=1;function e(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return Fn=e,Fn}var Mn,Bu;function Cr(){if(Bu)return Mn;Bu=1;var e=Pe(),r=re(),n="[object AsyncFunction]",t="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!r(s))return!1;var u=e(s);return u==t||u==i||u==n||u==a}return Mn=o,Mn}var Pn,Gu;function Dm(){if(Gu)return Pn;Gu=1;var e=te(),r=e["__core-js_shared__"];return Pn=r,Pn}var Dn,$u;function Bm(){if($u)return Dn;$u=1;var e=Dm(),r=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n(t){return!!r&&r in t}return Dn=n,Dn}var Bn,Uu;function ap(){if(Uu)return Bn;Uu=1;var e=Function.prototype,r=e.toString;function n(t){if(t!=null){try{return r.call(t)}catch{}try{return t+""}catch{}}return""}return Bn=n,Bn}var Gn,Hu;function Gm(){if(Hu)return Gn;Hu=1;var e=Cr(),r=Bm(),n=re(),t=ap(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||r(d))return!1;var h=e(d)?c:a;return h.test(t(d))}return Gn=f,Gn}var $n,Vu;function $m(){if(Vu)return $n;Vu=1;function e(r,n){return r==null?void 0:r[n]}return $n=e,$n}var Un,zu;function De(){if(zu)return Un;zu=1;var e=Gm(),r=$m();function n(t,i){var a=r(t,i);return e(a)?a:void 0}return Un=n,Un}var Hn,Wu;function Ls(){if(Wu)return Hn;Wu=1;var e=De(),r=te(),n=e(r,"Map");return Hn=n,Hn}var Vn,Ku;function Jr(){if(Ku)return Vn;Ku=1;var e=De(),r=e(Object,"create");return Vn=r,Vn}var zn,Yu;function Um(){if(Yu)return zn;Yu=1;var e=Jr();function r(){this.__data__=e?e(null):{},this.size=0}return zn=r,zn}var Wn,Xu;function Hm(){if(Xu)return Wn;Xu=1;function e(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return Wn=e,Wn}var Kn,Qu;function Vm(){if(Qu)return Kn;Qu=1;var e=Jr(),r="__lodash_hash_undefined__",n=Object.prototype,t=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===r?void 0:s}return t.call(o,a)?o[a]:void 0}return Kn=i,Kn}var Yn,Ju;function zm(){if(Ju)return Yn;Ju=1;var e=Jr(),r=Object.prototype,n=r.hasOwnProperty;function t(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return Yn=t,Yn}var Xn,Zu;function Wm(){if(Zu)return Xn;Zu=1;var e=Jr(),r="__lodash_hash_undefined__";function n(t,i){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=e&&i===void 0?r:i,this}return Xn=n,Xn}var Qn,ec;function Km(){if(ec)return Qn;ec=1;var e=Um(),r=Hm(),n=Vm(),t=zm(),i=Wm();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=t,a.prototype.set=i,Qn=a,Qn}var Jn,rc;function Ym(){if(rc)return Jn;rc=1;var e=Km(),r=Qr(),n=Ls();function t(){this.size=0,this.__data__={hash:new e,map:new(n||r),string:new e}}return Jn=t,Jn}var Zn,nc;function Xm(){if(nc)return Zn;nc=1;function e(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return Zn=e,Zn}var et,tc;function Zr(){if(tc)return et;tc=1;var e=Xm();function r(n,t){var i=n.__data__;return e(t)?i[typeof t=="string"?"string":"hash"]:i.map}return et=r,et}var rt,ic;function Qm(){if(ic)return rt;ic=1;var e=Zr();function r(n){var t=e(this,n).delete(n);return this.size-=t?1:0,t}return rt=r,rt}var nt,ac;function Jm(){if(ac)return nt;ac=1;var e=Zr();function r(n){return e(this,n).get(n)}return nt=r,nt}var tt,oc;function Zm(){if(oc)return tt;oc=1;var e=Zr();function r(n){return e(this,n).has(n)}return tt=r,tt}var it,sc;function ey(){if(sc)return it;sc=1;var e=Zr();function r(n,t){var i=e(this,n),a=i.size;return i.set(n,t),this.size+=i.size==a?0:1,this}return it=r,it}var at,uc;function Ns(){if(uc)return at;uc=1;var e=Ym(),r=Qm(),n=Jm(),t=Zm(),i=ey();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var l=o[s];this.set(l[0],l[1])}}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=t,a.prototype.set=i,at=a,at}var ot,cc;function ry(){if(cc)return ot;cc=1;var e=Qr(),r=Ls(),n=Ns(),t=200;function i(a,o){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!r||u.length<t-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(a,o),this.size=s.size,this}return ot=i,ot}var st,lc;function en(){if(lc)return st;lc=1;var e=Qr(),r=Om(),n=Lm(),t=Nm(),i=Fm(),a=ry();function o(s){var u=this.__data__=new e(s);this.size=u.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=t,o.prototype.has=i,o.prototype.set=a,st=o,st}var ut,fc;function Fs(){if(fc)return ut;fc=1;function e(r,n){for(var t=-1,i=r==null?0:r.length;++t<i&&n(r[t],t,r)!==!1;);return r}return ut=e,ut}var ct,dc;function op(){if(dc)return ct;dc=1;var e=De(),r=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ct=r,ct}var lt,hc;function rn(){if(hc)return lt;hc=1;var e=op();function r(n,t,i){t=="__proto__"&&e?e(n,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[t]=i}return lt=r,lt}var ft,pc;function nn(){if(pc)return ft;pc=1;var e=rn(),r=ir(),n=Object.prototype,t=n.hasOwnProperty;function i(a,o,s){var u=a[o];(!(t.call(a,o)&&r(u,s))||s===void 0&&!(o in a))&&e(a,o,s)}return ft=i,ft}var dt,vc;function qr(){if(vc)return dt;vc=1;var e=nn(),r=rn();function n(t,i,a,o){var s=!a;a||(a={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=o?o(a[c],t[c],c,a,t):void 0;f===void 0&&(f=t[c]),s?r(a,c,f):e(a,c,f)}return a}return dt=n,dt}var ht,gc;function ny(){if(gc)return ht;gc=1;function e(r,n){for(var t=-1,i=Array(r);++t<r;)i[t]=n(t);return i}return ht=e,ht}var pt,mc;function ce(){if(mc)return pt;mc=1;function e(r){return r!=null&&typeof r=="object"}return pt=e,pt}var vt,yc;function ty(){if(yc)return vt;yc=1;var e=Pe(),r=ce(),n="[object Arguments]";function t(i){return r(i)&&e(i)==n}return vt=t,vt}var gt,bc;function Rr(){if(bc)return gt;bc=1;var e=ty(),r=ce(),n=Object.prototype,t=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return r(o)&&t.call(o,"callee")&&!i.call(o,"callee")};return gt=a,gt}var mt,_c;function D(){if(_c)return mt;_c=1;var e=Array.isArray;return mt=e,mt}var pr={exports:{}},yt,xc;function iy(){if(xc)return yt;xc=1;function e(){return!1}return yt=e,yt}pr.exports;var wc;function or(){return wc||(wc=1,function(e,r){var n=te(),t=iy(),i=r&&!r.nodeType&&r,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||t;e.exports=l}(pr,pr.exports)),pr.exports}var bt,Ec;function tn(){if(Ec)return bt;Ec=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,i){var a=typeof t;return i=i??e,!!i&&(a=="number"||a!="symbol"&&r.test(t))&&t>-1&&t%1==0&&t<i}return bt=n,bt}var _t,Sc;function Ms(){if(Sc)return _t;Sc=1;var e=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return _t=r,_t}var xt,Ac;function ay(){if(Ac)return xt;Ac=1;var e=Pe(),r=Ms(),n=ce(),t="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",g="[object String]",v="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",E={};E[y]=E[w]=E[S]=E[T]=E[_]=E[x]=E[C]=E[A]=E[k]=!0,E[t]=E[i]=E[m]=E[a]=E[b]=E[o]=E[s]=E[u]=E[l]=E[c]=E[f]=E[d]=E[h]=E[g]=E[v]=!1;function j(O){return n(O)&&r(O.length)&&!!E[e(O)]}return xt=j,xt}var wt,Cc;function an(){if(Cc)return wt;Cc=1;function e(r){return function(n){return r(n)}}return wt=e,wt}var vr={exports:{}};vr.exports;var qc;function Ps(){return qc||(qc=1,function(e,r){var n=ip(),t=r&&!r.nodeType&&r,i=t&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===t,o=a&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(vr,vr.exports)),vr.exports}var Et,Rc;function kr(){if(Rc)return Et;Rc=1;var e=ay(),r=an(),n=Ps(),t=n&&n.isTypedArray,i=t?r(t):e;return Et=i,Et}var St,kc;function sp(){if(kc)return St;kc=1;var e=ny(),r=Rr(),n=D(),t=or(),i=tn(),a=kr(),o=Object.prototype,s=o.hasOwnProperty;function u(l,c){var f=n(l),d=!f&&r(l),h=!f&&!d&&t(l),g=!f&&!d&&!h&&a(l),v=f||d||h||g,m=v?e(l.length,String):[],b=m.length;for(var y in l)(c||s.call(l,y))&&!(v&&(y=="length"||h&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,b)))&&m.push(y);return m}return St=u,St}var At,Tc;function on(){if(Tc)return At;Tc=1;var e=Object.prototype;function r(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||e;return n===i}return At=r,At}var Ct,Ic;function up(){if(Ic)return Ct;Ic=1;function e(r,n){return function(t){return r(n(t))}}return Ct=e,Ct}var qt,jc;function oy(){if(jc)return qt;jc=1;var e=up(),r=e(Object.keys,Object);return qt=r,qt}var Rt,Oc;function Ds(){if(Oc)return Rt;Oc=1;var e=on(),r=oy(),n=Object.prototype,t=n.hasOwnProperty;function i(a){if(!e(a))return r(a);var o=[];for(var s in Object(a))t.call(a,s)&&s!="constructor"&&o.push(s);return o}return Rt=i,Rt}var kt,Lc;function me(){if(Lc)return kt;Lc=1;var e=Cr(),r=Ms();function n(t){return t!=null&&r(t.length)&&!e(t)}return kt=n,kt}var Tt,Nc;function ke(){if(Nc)return Tt;Nc=1;var e=sp(),r=Ds(),n=me();function t(i){return n(i)?e(i):r(i)}return Tt=t,Tt}var It,Fc;function sy(){if(Fc)return It;Fc=1;var e=qr(),r=ke();function n(t,i){return t&&e(i,r(i),t)}return It=n,It}var jt,Mc;function uy(){if(Mc)return jt;Mc=1;function e(r){var n=[];if(r!=null)for(var t in Object(r))n.push(t);return n}return jt=e,jt}var Ot,Pc;function cy(){if(Pc)return Ot;Pc=1;var e=re(),r=on(),n=uy(),t=Object.prototype,i=t.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=r(o),u=[];for(var l in o)l=="constructor"&&(s||!i.call(o,l))||u.push(l);return u}return Ot=a,Ot}var Lt,Dc;function Be(){if(Dc)return Lt;Dc=1;var e=sp(),r=cy(),n=me();function t(i){return n(i)?e(i,!0):r(i)}return Lt=t,Lt}var Nt,Bc;function ly(){if(Bc)return Nt;Bc=1;var e=qr(),r=Be();function n(t,i){return t&&e(i,r(i),t)}return Nt=n,Nt}var gr={exports:{}};gr.exports;var Gc;function cp(){return Gc||(Gc=1,function(e,r){var n=te(),t=r&&!r.nodeType&&r,i=t&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===t,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=s?s(f):new l.constructor(f);return l.copy(d),d}e.exports=u}(gr,gr.exports)),gr.exports}var Ft,$c;function lp(){if($c)return Ft;$c=1;function e(r,n){var t=-1,i=r.length;for(n||(n=Array(i));++t<i;)n[t]=r[t];return n}return Ft=e,Ft}var Mt,Uc;function fp(){if(Uc)return Mt;Uc=1;function e(r,n){for(var t=-1,i=r==null?0:r.length,a=0,o=[];++t<i;){var s=r[t];n(s,t,r)&&(o[a++]=s)}return o}return Mt=e,Mt}var Pt,Hc;function dp(){if(Hc)return Pt;Hc=1;function e(){return[]}return Pt=e,Pt}var Dt,Vc;function Bs(){if(Vc)return Dt;Vc=1;var e=fp(),r=dp(),n=Object.prototype,t=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return t.call(o,s)}))}:r;return Dt=a,Dt}var Bt,zc;function fy(){if(zc)return Bt;zc=1;var e=qr(),r=Bs();function n(t,i){return e(t,r(t),i)}return Bt=n,Bt}var Gt,Wc;function Gs(){if(Wc)return Gt;Wc=1;function e(r,n){for(var t=-1,i=n.length,a=r.length;++t<i;)r[a+t]=n[t];return r}return Gt=e,Gt}var $t,Kc;function sn(){if(Kc)return $t;Kc=1;var e=up(),r=e(Object.getPrototypeOf,Object);return $t=r,$t}var Ut,Yc;function hp(){if(Yc)return Ut;Yc=1;var e=Gs(),r=sn(),n=Bs(),t=dp(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=r(o);return s}:t;return Ut=a,Ut}var Ht,Xc;function dy(){if(Xc)return Ht;Xc=1;var e=qr(),r=hp();function n(t,i){return e(t,r(t),i)}return Ht=n,Ht}var Vt,Qc;function pp(){if(Qc)return Vt;Qc=1;var e=Gs(),r=D();function n(t,i,a){var o=i(t);return r(t)?o:e(o,a(t))}return Vt=n,Vt}var zt,Jc;function vp(){if(Jc)return zt;Jc=1;var e=pp(),r=Bs(),n=ke();function t(i){return e(i,n,r)}return zt=t,zt}var Wt,Zc;function hy(){if(Zc)return Wt;Zc=1;var e=pp(),r=hp(),n=Be();function t(i){return e(i,n,r)}return Wt=t,Wt}var Kt,el;function py(){if(el)return Kt;el=1;var e=De(),r=te(),n=e(r,"DataView");return Kt=n,Kt}var Yt,rl;function vy(){if(rl)return Yt;rl=1;var e=De(),r=te(),n=e(r,"Promise");return Yt=n,Yt}var Xt,nl;function gp(){if(nl)return Xt;nl=1;var e=De(),r=te(),n=e(r,"Set");return Xt=n,Xt}var Qt,tl;function gy(){if(tl)return Qt;tl=1;var e=De(),r=te(),n=e(r,"WeakMap");return Qt=n,Qt}var Jt,il;function sr(){if(il)return Jt;il=1;var e=py(),r=Ls(),n=vy(),t=gp(),i=gy(),a=Pe(),o=ap(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=o(e),g=o(r),v=o(n),m=o(t),b=o(i),y=a;return(e&&y(new e(new ArrayBuffer(1)))!=d||r&&y(new r)!=s||n&&y(n.resolve())!=l||t&&y(new t)!=c||i&&y(new i)!=f)&&(y=function(w){var S=a(w),T=S==u?w.constructor:void 0,_=T?o(T):"";if(_)switch(_){case h:return d;case g:return s;case v:return l;case m:return c;case b:return f}return S}),Jt=y,Jt}var Zt,al;function my(){if(al)return Zt;al=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t){var i=t.length,a=new t.constructor(i);return i&&typeof t[0]=="string"&&r.call(t,"index")&&(a.index=t.index,a.input=t.input),a}return Zt=n,Zt}var ei,ol;function mp(){if(ol)return ei;ol=1;var e=te(),r=e.Uint8Array;return ei=r,ei}var ri,sl;function $s(){if(sl)return ri;sl=1;var e=mp();function r(n){var t=new n.constructor(n.byteLength);return new e(t).set(new e(n)),t}return ri=r,ri}var ni,ul;function yy(){if(ul)return ni;ul=1;var e=$s();function r(n,t){var i=t?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ni=r,ni}var ti,cl;function by(){if(cl)return ti;cl=1;var e=/\w*$/;function r(n){var t=new n.constructor(n.source,e.exec(n));return t.lastIndex=n.lastIndex,t}return ti=r,ti}var ii,ll;function _y(){if(ll)return ii;ll=1;var e=ar(),r=e?e.prototype:void 0,n=r?r.valueOf:void 0;function t(i){return n?Object(n.call(i)):{}}return ii=t,ii}var ai,fl;function yp(){if(fl)return ai;fl=1;var e=$s();function r(n,t){var i=t?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ai=r,ai}var oi,dl;function xy(){if(dl)return oi;dl=1;var e=$s(),r=yy(),n=by(),t=_y(),i=yp(),a="[object Boolean]",o="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",m="[object Float64Array]",b="[object Int8Array]",y="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",_="[object Uint16Array]",x="[object Uint32Array]";function C(A,k,E){var j=A.constructor;switch(k){case h:return e(A);case a:case o:return new j(+A);case g:return r(A,E);case v:case m:case b:case y:case w:case S:case T:case _:case x:return i(A,E);case s:return new j;case u:case f:return new j(A);case l:return n(A);case c:return new j;case d:return t(A)}}return oi=C,oi}var si,hl;function bp(){if(hl)return si;hl=1;var e=re(),r=Object.create,n=function(){function t(){}return function(i){if(!e(i))return{};if(r)return r(i);t.prototype=i;var a=new t;return t.prototype=void 0,a}}();return si=n,si}var ui,pl;function _p(){if(pl)return ui;pl=1;var e=bp(),r=sn(),n=on();function t(i){return typeof i.constructor=="function"&&!n(i)?e(r(i)):{}}return ui=t,ui}var ci,vl;function wy(){if(vl)return ci;vl=1;var e=sr(),r=ce(),n="[object Map]";function t(i){return r(i)&&e(i)==n}return ci=t,ci}var li,gl;function Ey(){if(gl)return li;gl=1;var e=wy(),r=an(),n=Ps(),t=n&&n.isMap,i=t?r(t):e;return li=i,li}var fi,ml;function Sy(){if(ml)return fi;ml=1;var e=sr(),r=ce(),n="[object Set]";function t(i){return r(i)&&e(i)==n}return fi=t,fi}var di,yl;function Ay(){if(yl)return di;yl=1;var e=Sy(),r=an(),n=Ps(),t=n&&n.isSet,i=t?r(t):e;return di=i,di}var hi,bl;function xp(){if(bl)return hi;bl=1;var e=en(),r=Fs(),n=nn(),t=sy(),i=ly(),a=cp(),o=lp(),s=fy(),u=dy(),l=vp(),c=hy(),f=sr(),d=my(),h=xy(),g=_p(),v=D(),m=or(),b=Ey(),y=re(),w=Ay(),S=ke(),T=Be(),_=1,x=2,C=4,A="[object Arguments]",k="[object Array]",E="[object Boolean]",j="[object Date]",O="[object Error]",B="[object Function]",ae="[object GeneratorFunction]",Te="[object Map]",le="[object Number]",V="[object Object]",G="[object RegExp]",Ie="[object Set]",je="[object String]",Oe="[object Symbol]",Ir="[object WeakMap]",bg="[object ArrayBuffer]",_g="[object DataView]",xg="[object Float32Array]",wg="[object Float64Array]",Eg="[object Int8Array]",Sg="[object Int16Array]",Ag="[object Int32Array]",Cg="[object Uint8Array]",qg="[object Uint8ClampedArray]",Rg="[object Uint16Array]",kg="[object Uint32Array]",F={};F[A]=F[k]=F[bg]=F[_g]=F[E]=F[j]=F[xg]=F[wg]=F[Eg]=F[Sg]=F[Ag]=F[Te]=F[le]=F[V]=F[G]=F[Ie]=F[je]=F[Oe]=F[Cg]=F[qg]=F[Rg]=F[kg]=!0,F[O]=F[B]=F[Ir]=!1;function jr(N,Ue,He,Tg,Or,be){var Y,Lr=Ue&_,Nr=Ue&x,Ig=Ue&C;if(He&&(Y=Or?He(N,Tg,Or,be):He(N)),Y!==void 0)return Y;if(!y(N))return N;var su=v(N);if(su){if(Y=d(N),!Lr)return o(N,Y)}else{var Ve=f(N),uu=Ve==B||Ve==ae;if(m(N))return a(N,Lr);if(Ve==V||Ve==A||uu&&!Or){if(Y=Nr||uu?{}:g(N),!Lr)return Nr?u(N,i(Y,N)):s(N,t(Y,N))}else{if(!F[Ve])return Or?N:{};Y=h(N,Ve,Lr)}}be||(be=new e);var cu=be.get(N);if(cu)return cu;be.set(N,Y),w(N)?N.forEach(function(_e){Y.add(jr(_e,Ue,He,_e,N,be))}):b(N)&&N.forEach(function(_e,Le){Y.set(Le,jr(_e,Ue,He,Le,N,be))});var jg=Ig?Nr?c:l:Nr?T:S,lu=su?void 0:jg(N);return r(lu||N,function(_e,Le){lu&&(Le=_e,_e=N[Le]),n(Y,Le,jr(_e,Ue,He,Le,N,be))}),Y}return hi=jr,hi}var pi,_l;function Cy(){if(_l)return pi;_l=1;var e=xp(),r=4;function n(t){return e(t,r)}return pi=n,pi}var vi,xl;function Us(){if(xl)return vi;xl=1;function e(r){return function(){return r}}return vi=e,vi}var gi,wl;function qy(){if(wl)return gi;wl=1;function e(r){return function(n,t,i){for(var a=-1,o=Object(n),s=i(n),u=s.length;u--;){var l=s[r?u:++a];if(t(o[l],l,o)===!1)break}return n}}return gi=e,gi}var mi,El;function Hs(){if(El)return mi;El=1;var e=qy(),r=e();return mi=r,mi}var yi,Sl;function Vs(){if(Sl)return yi;Sl=1;var e=Hs(),r=ke();function n(t,i){return t&&e(t,i,r)}return yi=n,yi}var bi,Al;function Ry(){if(Al)return bi;Al=1;var e=me();function r(n,t){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var o=i.length,s=t?o:-1,u=Object(i);(t?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return bi=r,bi}var _i,Cl;function un(){if(Cl)return _i;Cl=1;var e=Vs(),r=Ry(),n=r(e);return _i=n,_i}var xi,ql;function Ge(){if(ql)return xi;ql=1;function e(r){return r}return xi=e,xi}var wi,Rl;function wp(){if(Rl)return wi;Rl=1;var e=Ge();function r(n){return typeof n=="function"?n:e}return wi=r,wi}var Ei,kl;function Ep(){if(kl)return Ei;kl=1;var e=Fs(),r=un(),n=wp(),t=D();function i(a,o){var s=t(a)?e:r;return s(a,n(o))}return Ei=i,Ei}var Si,Tl;function Sp(){return Tl||(Tl=1,Si=Ep()),Si}var Ai,Il;function ky(){if(Il)return Ai;Il=1;var e=un();function r(n,t){var i=[];return e(n,function(a,o,s){t(a,o,s)&&i.push(a)}),i}return Ai=r,Ai}var Ci,jl;function Ty(){if(jl)return Ci;jl=1;var e="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,e),this}return Ci=r,Ci}var qi,Ol;function Iy(){if(Ol)return qi;Ol=1;function e(r){return this.__data__.has(r)}return qi=e,qi}var Ri,Ll;function Ap(){if(Ll)return Ri;Ll=1;var e=Ns(),r=Ty(),n=Iy();function t(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return t.prototype.add=t.prototype.push=r,t.prototype.has=n,Ri=t,Ri}var ki,Nl;function jy(){if(Nl)return ki;Nl=1;function e(r,n){for(var t=-1,i=r==null?0:r.length;++t<i;)if(n(r[t],t,r))return!0;return!1}return ki=e,ki}var Ti,Fl;function Cp(){if(Fl)return Ti;Fl=1;function e(r,n){return r.has(n)}return Ti=e,Ti}var Ii,Ml;function qp(){if(Ml)return Ii;Ml=1;var e=Ap(),r=jy(),n=Cp(),t=1,i=2;function a(o,s,u,l,c,f){var d=u&t,h=o.length,g=s.length;if(h!=g&&!(d&&g>h))return!1;var v=f.get(o),m=f.get(s);if(v&&m)return v==s&&m==o;var b=-1,y=!0,w=u&i?new e:void 0;for(f.set(o,s),f.set(s,o);++b<h;){var S=o[b],T=s[b];if(l)var _=d?l(T,S,b,s,o,f):l(S,T,b,o,s,f);if(_!==void 0){if(_)continue;y=!1;break}if(w){if(!r(s,function(x,C){if(!n(w,C)&&(S===x||c(S,x,u,l,f)))return w.push(C)})){y=!1;break}}else if(!(S===T||c(S,T,u,l,f))){y=!1;break}}return f.delete(o),f.delete(s),y}return Ii=a,Ii}var ji,Pl;function Oy(){if(Pl)return ji;Pl=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(i,a){t[++n]=[a,i]}),t}return ji=e,ji}var Oi,Dl;function zs(){if(Dl)return Oi;Dl=1;function e(r){var n=-1,t=Array(r.size);return r.forEach(function(i){t[++n]=i}),t}return Oi=e,Oi}var Li,Bl;function Ly(){if(Bl)return Li;Bl=1;var e=ar(),r=mp(),n=ir(),t=qp(),i=Oy(),a=zs(),o=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",g="[object Set]",v="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",w=e?e.prototype:void 0,S=w?w.valueOf:void 0;function T(_,x,C,A,k,E,j){switch(C){case y:if(_.byteLength!=x.byteLength||_.byteOffset!=x.byteOffset)return!1;_=_.buffer,x=x.buffer;case b:return!(_.byteLength!=x.byteLength||!E(new r(_),new r(x)));case u:case l:case d:return n(+_,+x);case c:return _.name==x.name&&_.message==x.message;case h:case v:return _==x+"";case f:var O=i;case g:var B=A&o;if(O||(O=a),_.size!=x.size&&!B)return!1;var ae=j.get(_);if(ae)return ae==x;A|=s,j.set(_,x);var Te=t(O(_),O(x),A,k,E,j);return j.delete(_),Te;case m:if(S)return S.call(_)==S.call(x)}return!1}return Li=T,Li}var Ni,Gl;function Ny(){if(Gl)return Ni;Gl=1;var e=vp(),r=1,n=Object.prototype,t=n.hasOwnProperty;function i(a,o,s,u,l,c){var f=s&r,d=e(a),h=d.length,g=e(o),v=g.length;if(h!=v&&!f)return!1;for(var m=h;m--;){var b=d[m];if(!(f?b in o:t.call(o,b)))return!1}var y=c.get(a),w=c.get(o);if(y&&w)return y==o&&w==a;var S=!0;c.set(a,o),c.set(o,a);for(var T=f;++m<h;){b=d[m];var _=a[b],x=o[b];if(u)var C=f?u(x,_,b,o,a,c):u(_,x,b,a,o,c);if(!(C===void 0?_===x||l(_,x,s,u,c):C)){S=!1;break}T||(T=b=="constructor")}if(S&&!T){var A=a.constructor,k=o.constructor;A!=k&&"constructor"in a&&"constructor"in o&&!(typeof A=="function"&&A instanceof A&&typeof k=="function"&&k instanceof k)&&(S=!1)}return c.delete(a),c.delete(o),S}return Ni=i,Ni}var Fi,$l;function Fy(){if($l)return Fi;$l=1;var e=en(),r=qp(),n=Ly(),t=Ny(),i=sr(),a=D(),o=or(),s=kr(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function g(v,m,b,y,w,S){var T=a(v),_=a(m),x=T?c:i(v),C=_?c:i(m);x=x==l?f:x,C=C==l?f:C;var A=x==f,k=C==f,E=x==C;if(E&&o(v)){if(!o(m))return!1;T=!0,A=!1}if(E&&!A)return S||(S=new e),T||s(v)?r(v,m,b,y,w,S):n(v,m,x,b,y,w,S);if(!(b&u)){var j=A&&h.call(v,"__wrapped__"),O=k&&h.call(m,"__wrapped__");if(j||O){var B=j?v.value():v,ae=O?m.value():m;return S||(S=new e),w(B,ae,b,y,S)}}return E?(S||(S=new e),t(v,m,b,y,w,S)):!1}return Fi=g,Fi}var Mi,Ul;function Rp(){if(Ul)return Mi;Ul=1;var e=Fy(),r=ce();function n(t,i,a,o,s){return t===i?!0:t==null||i==null||!r(t)&&!r(i)?t!==t&&i!==i:e(t,i,a,o,n,s)}return Mi=n,Mi}var Pi,Hl;function My(){if(Hl)return Pi;Hl=1;var e=en(),r=Rp(),n=1,t=2;function i(a,o,s,u){var l=s.length,c=l,f=!u;if(a==null)return!c;for(a=Object(a);l--;){var d=s[l];if(f&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++l<c;){d=s[l];var h=d[0],g=a[h],v=d[1];if(f&&d[2]){if(g===void 0&&!(h in a))return!1}else{var m=new e;if(u)var b=u(g,v,h,a,o,m);if(!(b===void 0?r(v,g,n|t,u,m):b))return!1}}return!0}return Pi=i,Pi}var Di,Vl;function kp(){if(Vl)return Di;Vl=1;var e=re();function r(n){return n===n&&!e(n)}return Di=r,Di}var Bi,zl;function Py(){if(zl)return Bi;zl=1;var e=kp(),r=ke();function n(t){for(var i=r(t),a=i.length;a--;){var o=i[a],s=t[o];i[a]=[o,s,e(s)]}return i}return Bi=n,Bi}var Gi,Wl;function Tp(){if(Wl)return Gi;Wl=1;function e(r,n){return function(t){return t==null?!1:t[r]===n&&(n!==void 0||r in Object(t))}}return Gi=e,Gi}var $i,Kl;function Dy(){if(Kl)return $i;Kl=1;var e=My(),r=Py(),n=Tp();function t(i){var a=r(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return $i=t,$i}var Ui,Yl;function ur(){if(Yl)return Ui;Yl=1;var e=Pe(),r=ce(),n="[object Symbol]";function t(i){return typeof i=="symbol"||r(i)&&e(i)==n}return Ui=t,Ui}var Hi,Xl;function Ws(){if(Xl)return Hi;Xl=1;var e=D(),r=ur(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||r(a)?!0:t.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Hi=i,Hi}var Vi,Ql;function By(){if(Ql)return Vi;Ql=1;var e=Ns(),r="Expected a function";function n(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new TypeError(r);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var l=t.apply(this,o);return a.cache=u.set(s,l)||u,l};return a.cache=new(n.Cache||e),a}return n.Cache=e,Vi=n,Vi}var zi,Jl;function Gy(){if(Jl)return zi;Jl=1;var e=By(),r=500;function n(t){var i=e(t,function(o){return a.size===r&&a.clear(),o}),a=i.cache;return i}return zi=n,zi}var Wi,Zl;function $y(){if(Zl)return Wi;Zl=1;var e=Gy(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,t=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(r,function(o,s,u,l){a.push(u?l.replace(n,"$1"):s||o)}),a});return Wi=t,Wi}var Ki,ef;function cn(){if(ef)return Ki;ef=1;function e(r,n){for(var t=-1,i=r==null?0:r.length,a=Array(i);++t<i;)a[t]=n(r[t],t,r);return a}return Ki=e,Ki}var Yi,rf;function Uy(){if(rf)return Yi;rf=1;var e=ar(),r=cn(),n=D(),t=ur(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(n(s))return r(s,o)+"";if(t(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Yi=o,Yi}var Xi,nf;function Ip(){if(nf)return Xi;nf=1;var e=Uy();function r(n){return n==null?"":e(n)}return Xi=r,Xi}var Qi,tf;function ln(){if(tf)return Qi;tf=1;var e=D(),r=Ws(),n=$y(),t=Ip();function i(a,o){return e(a)?a:r(a,o)?[a]:n(t(a))}return Qi=i,Qi}var Ji,af;function Tr(){if(af)return Ji;af=1;var e=ur();function r(n){if(typeof n=="string"||e(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}return Ji=r,Ji}var Zi,of;function fn(){if(of)return Zi;of=1;var e=ln(),r=Tr();function n(t,i){i=e(i,t);for(var a=0,o=i.length;t!=null&&a<o;)t=t[r(i[a++])];return a&&a==o?t:void 0}return Zi=n,Zi}var ea,sf;function Hy(){if(sf)return ea;sf=1;var e=fn();function r(n,t,i){var a=n==null?void 0:e(n,t);return a===void 0?i:a}return ea=r,ea}var ra,uf;function Vy(){if(uf)return ra;uf=1;function e(r,n){return r!=null&&n in Object(r)}return ra=e,ra}var na,cf;function jp(){if(cf)return na;cf=1;var e=ln(),r=Rr(),n=D(),t=tn(),i=Ms(),a=Tr();function o(s,u,l){u=e(u,s);for(var c=-1,f=u.length,d=!1;++c<f;){var h=a(u[c]);if(!(d=s!=null&&l(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&t(h,f)&&(n(s)||r(s)))}return na=o,na}var ta,lf;function Op(){if(lf)return ta;lf=1;var e=Vy(),r=jp();function n(t,i){return t!=null&&r(t,i,e)}return ta=n,ta}var ia,ff;function zy(){if(ff)return ia;ff=1;var e=Rp(),r=Hy(),n=Op(),t=Ws(),i=kp(),a=Tp(),o=Tr(),s=1,u=2;function l(c,f){return t(c)&&i(f)?a(o(c),f):function(d){var h=r(d,c);return h===void 0&&h===f?n(d,c):e(f,h,s|u)}}return ia=l,ia}var aa,df;function Lp(){if(df)return aa;df=1;function e(r){return function(n){return n==null?void 0:n[r]}}return aa=e,aa}var oa,hf;function Wy(){if(hf)return oa;hf=1;var e=fn();function r(n){return function(t){return e(t,n)}}return oa=r,oa}var sa,pf;function Ky(){if(pf)return sa;pf=1;var e=Lp(),r=Wy(),n=Ws(),t=Tr();function i(a){return n(a)?e(t(a)):r(a)}return sa=i,sa}var ua,vf;function ye(){if(vf)return ua;vf=1;var e=Dy(),r=zy(),n=Ge(),t=D(),i=Ky();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?t(o)?r(o[0],o[1]):e(o):i(o)}return ua=a,ua}var ca,gf;function Np(){if(gf)return ca;gf=1;var e=fp(),r=ky(),n=ye(),t=D();function i(a,o){var s=t(a)?e:r;return s(a,n(o,3))}return ca=i,ca}var la,mf;function Yy(){if(mf)return la;mf=1;var e=Object.prototype,r=e.hasOwnProperty;function n(t,i){return t!=null&&r.call(t,i)}return la=n,la}var fa,yf;function Fp(){if(yf)return fa;yf=1;var e=Yy(),r=jp();function n(t,i){return t!=null&&r(t,i,e)}return fa=n,fa}var da,bf;function Xy(){if(bf)return da;bf=1;var e=Ds(),r=sr(),n=Rr(),t=D(),i=me(),a=or(),o=on(),s=kr(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(t(h)||typeof h=="string"||typeof h.splice=="function"||a(h)||s(h)||n(h)))return!h.length;var g=r(h);if(g==u||g==l)return!h.size;if(o(h))return!e(h).length;for(var v in h)if(f.call(h,v))return!1;return!0}return da=d,da}var ha,_f;function Mp(){if(_f)return ha;_f=1;function e(r){return r===void 0}return ha=e,ha}var pa,xf;function Pp(){if(xf)return pa;xf=1;var e=un(),r=me();function n(t,i){var a=-1,o=r(t)?Array(t.length):[];return e(t,function(s,u,l){o[++a]=i(s,u,l)}),o}return pa=n,pa}var va,wf;function Dp(){if(wf)return va;wf=1;var e=cn(),r=ye(),n=Pp(),t=D();function i(a,o){var s=t(a)?e:n;return s(a,r(o,3))}return va=i,va}var ga,Ef;function Qy(){if(Ef)return ga;Ef=1;function e(r,n,t,i){var a=-1,o=r==null?0:r.length;for(i&&o&&(t=r[++a]);++a<o;)t=n(t,r[a],a,r);return t}return ga=e,ga}var ma,Sf;function Jy(){if(Sf)return ma;Sf=1;function e(r,n,t,i,a){return a(r,function(o,s,u){t=i?(i=!1,o):n(t,o,s,u)}),t}return ma=e,ma}var ya,Af;function Bp(){if(Af)return ya;Af=1;var e=Qy(),r=un(),n=ye(),t=Jy(),i=D();function a(o,s,u){var l=i(o)?e:t,c=arguments.length<3;return l(o,n(s,4),u,c,r)}return ya=a,ya}var ba,Cf;function Zy(){if(Cf)return ba;Cf=1;var e=Pe(),r=D(),n=ce(),t="[object String]";function i(a){return typeof a=="string"||!r(a)&&n(a)&&e(a)==t}return ba=i,ba}var _a,qf;function eb(){if(qf)return _a;qf=1;var e=Lp(),r=e("length");return _a=r,_a}var xa,Rf;function rb(){if(Rf)return xa;Rf=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",i=r+n+t,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function u(l){return s.test(l)}return xa=u,xa}var wa,kf;function nb(){if(kf)return wa;kf=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",i=r+n+t,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=l+"?",v="["+a+"]?",m="(?:"+h+"(?:"+[c,f,d].join("|")+")"+v+g+")*",b=v+g+m,y="(?:"+[c+s+"?",s,f,d,o].join("|")+")",w=RegExp(u+"(?="+u+")|"+y+b,"g");function S(T){for(var _=w.lastIndex=0;w.test(T);)++_;return _}return wa=S,wa}var Ea,Tf;function tb(){if(Tf)return Ea;Tf=1;var e=eb(),r=rb(),n=nb();function t(i){return r(i)?n(i):e(i)}return Ea=t,Ea}var Sa,If;function ib(){if(If)return Sa;If=1;var e=Ds(),r=sr(),n=me(),t=Zy(),i=tb(),a="[object Map]",o="[object Set]";function s(u){if(u==null)return 0;if(n(u))return t(u)?i(u):u.length;var l=r(u);return l==a||l==o?u.size:e(u).length}return Sa=s,Sa}var Aa,jf;function ab(){if(jf)return Aa;jf=1;var e=Fs(),r=bp(),n=Vs(),t=ye(),i=sn(),a=D(),o=or(),s=Cr(),u=re(),l=kr();function c(f,d,h){var g=a(f),v=g||o(f)||l(f);if(d=t(d,4),h==null){var m=f&&f.constructor;v?h=g?new m:[]:u(f)?h=s(m)?r(i(f)):{}:h={}}return(v?e:n)(f,function(b,y,w){return d(h,b,y,w)}),h}return Aa=c,Aa}var Ca,Of;function ob(){if(Of)return Ca;Of=1;var e=ar(),r=Rr(),n=D(),t=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||r(a)||!!(t&&a&&a[t])}return Ca=i,Ca}var qa,Lf;function Ks(){if(Lf)return qa;Lf=1;var e=Gs(),r=ob();function n(t,i,a,o,s){var u=-1,l=t.length;for(a||(a=r),s||(s=[]);++u<l;){var c=t[u];i>0&&a(c)?i>1?n(c,i-1,a,o,s):e(s,c):o||(s[s.length]=c)}return s}return qa=n,qa}var Ra,Nf;function sb(){if(Nf)return Ra;Nf=1;function e(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}return Ra=e,Ra}var ka,Ff;function Gp(){if(Ff)return ka;Ff=1;var e=sb(),r=Math.max;function n(t,i,a){return i=r(i===void 0?t.length-1:i,0),function(){for(var o=arguments,s=-1,u=r(o.length-i,0),l=Array(u);++s<u;)l[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(l),e(t,this,c)}}return ka=n,ka}var Ta,Mf;function ub(){if(Mf)return Ta;Mf=1;var e=Us(),r=op(),n=Ge(),t=r?function(i,a){return r(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return Ta=t,Ta}var Ia,Pf;function cb(){if(Pf)return Ia;Pf=1;var e=800,r=16,n=Date.now;function t(i){var a=0,o=0;return function(){var s=n(),u=r-(s-o);if(o=s,u>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ia=t,Ia}var ja,Df;function $p(){if(Df)return ja;Df=1;var e=ub(),r=cb(),n=r(e);return ja=n,ja}var Oa,Bf;function dn(){if(Bf)return Oa;Bf=1;var e=Ge(),r=Gp(),n=$p();function t(i,a){return n(r(i,a,e),i+"")}return Oa=t,Oa}var La,Gf;function Up(){if(Gf)return La;Gf=1;function e(r,n,t,i){for(var a=r.length,o=t+(i?1:-1);i?o--:++o<a;)if(n(r[o],o,r))return o;return-1}return La=e,La}var Na,$f;function lb(){if($f)return Na;$f=1;function e(r){return r!==r}return Na=e,Na}var Fa,Uf;function fb(){if(Uf)return Fa;Uf=1;function e(r,n,t){for(var i=t-1,a=r.length;++i<a;)if(r[i]===n)return i;return-1}return Fa=e,Fa}var Ma,Hf;function db(){if(Hf)return Ma;Hf=1;var e=Up(),r=lb(),n=fb();function t(i,a,o){return a===a?n(i,a,o):e(i,r,o)}return Ma=t,Ma}var Pa,Vf;function hb(){if(Vf)return Pa;Vf=1;var e=db();function r(n,t){var i=n==null?0:n.length;return!!i&&e(n,t,0)>-1}return Pa=r,Pa}var Da,zf;function pb(){if(zf)return Da;zf=1;function e(r,n,t){for(var i=-1,a=r==null?0:r.length;++i<a;)if(t(n,r[i]))return!0;return!1}return Da=e,Da}var Ba,Wf;function vb(){if(Wf)return Ba;Wf=1;function e(){}return Ba=e,Ba}var Ga,Kf;function gb(){if(Kf)return Ga;Kf=1;var e=gp(),r=vb(),n=zs(),t=1/0,i=e&&1/n(new e([,-0]))[1]==t?function(a){return new e(a)}:r;return Ga=i,Ga}var $a,Yf;function mb(){if(Yf)return $a;Yf=1;var e=Ap(),r=hb(),n=pb(),t=Cp(),i=gb(),a=zs(),o=200;function s(u,l,c){var f=-1,d=r,h=u.length,g=!0,v=[],m=v;if(c)g=!1,d=n;else if(h>=o){var b=l?null:i(u);if(b)return a(b);g=!1,d=t,m=new e}else m=l?[]:v;e:for(;++f<h;){var y=u[f],w=l?l(y):y;if(y=c||y!==0?y:0,g&&w===w){for(var S=m.length;S--;)if(m[S]===w)continue e;l&&m.push(w),v.push(y)}else d(m,w,c)||(m!==v&&m.push(w),v.push(y))}return v}return $a=s,$a}var Ua,Xf;function Hp(){if(Xf)return Ua;Xf=1;var e=me(),r=ce();function n(t){return r(t)&&e(t)}return Ua=n,Ua}var Ha,Qf;function yb(){if(Qf)return Ha;Qf=1;var e=Ks(),r=dn(),n=mb(),t=Hp(),i=r(function(a){return n(e(a,1,t,!0))});return Ha=i,Ha}var Va,Jf;function bb(){if(Jf)return Va;Jf=1;var e=cn();function r(n,t){return e(t,function(i){return n[i]})}return Va=r,Va}var za,Zf;function Vp(){if(Zf)return za;Zf=1;var e=bb(),r=ke();function n(t){return t==null?[]:e(t,r(t))}return za=n,za}var Wa,ed;function ne(){if(ed)return Wa;ed=1;var e;if(typeof Os=="function")try{e={clone:Cy(),constant:Us(),each:Sp(),filter:Np(),has:Fp(),isArray:D(),isEmpty:Xy(),isFunction:Cr(),isUndefined:Mp(),keys:ke(),map:Dp(),reduce:Bp(),size:ib(),transform:ab(),union:yb(),values:Vp()}}catch{}return e||(e=window._),Wa=e,Wa}var Ka,rd;function Ys(){if(rd)return Ka;rd=1;var e=ne();Ka=i;var r="\0",n="\0",t="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(g){d.length>1?h.setNode(g,f):h.setNode(g)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(v,m){c(m)&&f.setNode(m,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,d.edge(v))});var h={};function g(v){var m=d.parent(v);return m===void 0||f.hasNode(m)?(h[v]=m,m):m in h?h[m]:g(m)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,g(v))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(g,v){return h.length>1?d.setEdge(g,v,f):d.setEdge(g,v),v}),this},i.prototype.setEdge=function(){var c,f,d,h,g=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,f=v.w,d=v.name,arguments.length===2&&(h=arguments[1],g=!0)):(c=v,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var m=s(this._isDirected,c,f,d);if(e.has(this._edgeLabels,m))return g&&(this._edgeLabels[m]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[m]=g?h:this._defaultEdgeLabelFn(c,f,d);var b=u(this._isDirected,c,f,d);return c=b.v,f=b.w,Object.freeze(b),this._edgeObjs[m]=b,a(this._preds[f],c),a(this._sucs[c],f),this._in[f][m]=b,this._out[c][m]=b,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),g=this._edgeObjs[h];return g&&(c=g.v,f=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[f],c),o(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(g){return g.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(g){return g.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function a(c,f){c[f]?c[f]++:c[f]=1}function o(c,f){--c[f]||delete c[f]}function s(c,f,d,h){var g=""+f,v=""+d;if(!c&&g>v){var m=g;g=v,v=m}return g+t+v+t+(e.isUndefined(h)?r:h)}function u(c,f,d,h){var g=""+f,v=""+d;if(!c&&g>v){var m=g;g=v,v=m}var b={v:g,w:v};return h&&(b.name=h),b}function l(c,f){return s(c,f.v,f.w,f.name)}return Ka}var Ya,nd;function _b(){return nd||(nd=1,Ya="2.1.8"),Ya}var Xa,td;function xb(){return td||(td=1,Xa={Graph:Ys(),version:_b()}),Xa}var Qa,id;function wb(){if(id)return Qa;id=1;var e=ne(),r=Ys();Qa={write:n,read:a};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:t(o),edges:i(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function t(o){return e.map(o.nodes(),function(s){var u=o.node(s),l=o.parent(s),c={v:s};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(o){return e.map(o.edges(),function(s){var u=o.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(u)||(l.value=u),l})}function a(o){var s=new r(o.options).setGraph(o.value);return e.each(o.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(o.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return Qa}var Ja,ad;function Eb(){if(ad)return Ja;ad=1;var e=ne();Ja=r;function r(n){var t={},i=[],a;function o(s){e.has(t,s)||(t[s]=!0,a.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){a=[],o(s),a.length&&i.push(a)}),i}return Ja}var Za,od;function zp(){if(od)return Za;od=1;var e=ne();Za=r;function r(){this._arr=[],this._keyIndices={}}return r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(n){return n.key})},r.prototype.has=function(n){return e.has(this._keyIndices,n)},r.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority},r.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(n,t){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var a=this._arr,o=a.length;return i[n]=o,a.push({key:n,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},r.prototype.decrease=function(n,t){var i=this._keyIndices[n];if(t>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+t);this._arr[i].priority=t,this._decrease(i)},r.prototype._heapify=function(n){var t=this._arr,i=2*n,a=i+1,o=n;i<t.length&&(o=t[i].priority<t[o].priority?i:o,a<t.length&&(o=t[a].priority<t[o].priority?a:o),o!==n&&(this._swap(n,o),this._heapify(o)))},r.prototype._decrease=function(n){for(var t=this._arr,i=t[n].priority,a;n!==0&&(a=n>>1,!(t[a].priority<i));)this._swap(n,a),n=a},r.prototype._swap=function(n,t){var i=this._arr,a=this._keyIndices,o=i[n],s=i[t];i[n]=s,i[t]=o,a[s.key]=n,a[o.key]=t},Za}var eo,sd;function Wp(){if(sd)return eo;sd=1;var e=ne(),r=zp();eo=t;var n=e.constant(1);function t(a,o,s,u){return i(a,String(o),s||n,u||function(l){return a.outEdges(l)})}function i(a,o,s,u){var l={},c=new r,f,d,h=function(g){var v=g.v!==f?g.v:g.w,m=l[v],b=s(g),y=d.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+b);y<m.distance&&(m.distance=y,m.predecessor=f,c.decrease(v,y))};for(a.nodes().forEach(function(g){var v=g===o?0:Number.POSITIVE_INFINITY;l[g]={distance:v},c.add(g,v)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return l}return eo}var ro,ud;function Sb(){if(ud)return ro;ud=1;var e=Wp(),r=ne();ro=n;function n(t,i,a){return r.transform(t.nodes(),function(o,s){o[s]=e(t,s,i,a)},{})}return ro}var no,cd;function Kp(){if(cd)return no;cd=1;var e=ne();no=r;function r(n){var t=0,i=[],a={},o=[];function s(u){var l=a[u]={onStack:!0,lowlink:t,index:t++};if(i.push(u),n.successors(u).forEach(function(d){e.has(a,d)?a[d].onStack&&(l.lowlink=Math.min(l.lowlink,a[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,a[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=i.pop(),a[f].onStack=!1,c.push(f);while(u!==f);o.push(c)}}return n.nodes().forEach(function(u){e.has(a,u)||s(u)}),o}return no}var to,ld;function Ab(){if(ld)return to;ld=1;var e=ne(),r=Kp();to=n;function n(t){return e.filter(r(t),function(i){return i.length>1||i.length===1&&t.hasEdge(i[0],i[0])})}return to}var io,fd;function Cb(){if(fd)return io;fd=1;var e=ne();io=n;var r=e.constant(1);function n(i,a,o){return t(i,a||r,o||function(s){return i.outEdges(s)})}function t(i,a,o){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=a(c);s[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(f){var d=s[f];u.forEach(function(h){var g=d[l],v=c[h],m=d[h],b=g.distance+v.distance;b<m.distance&&(m.distance=b,m.predecessor=v.predecessor)})})}),s}return io}var ao,dd;function Yp(){if(dd)return ao;dd=1;var e=ne();ao=r,r.CycleException=n;function r(t){var i={},a={},o=[];function s(u){if(e.has(a,u))throw new n;e.has(i,u)||(a[u]=!0,i[u]=!0,e.each(t.predecessors(u),s),delete a[u],o.push(u))}if(e.each(t.sinks(),s),e.size(i)!==t.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,ao}var oo,hd;function qb(){if(hd)return oo;hd=1;var e=Yp();oo=r;function r(n){try{e(n)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}return oo}var so,pd;function Xp(){if(pd)return so;pd=1;var e=ne();so=r;function r(t,i,a){e.isArray(i)||(i=[i]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),s=[],u={};return e.each(i,function(l){if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);n(t,l,a==="post",u,o,s)}),s}function n(t,i,a,o,s,u){e.has(o,i)||(o[i]=!0,a||u.push(i),e.each(s(i),function(l){n(t,l,a,o,s,u)}),a&&u.push(i))}return so}var uo,vd;function Rb(){if(vd)return uo;vd=1;var e=Xp();uo=r;function r(n,t){return e(n,t,"post")}return uo}var co,gd;function kb(){if(gd)return co;gd=1;var e=Xp();co=r;function r(n,t){return e(n,t,"pre")}return co}var lo,md;function Tb(){if(md)return lo;md=1;var e=ne(),r=Ys(),n=zp();lo=t;function t(i,a){var o=new r,s={},u=new n,l;function c(d){var h=d.v===l?d.w:d.v,g=u.priority(h);if(g!==void 0){var v=a(d);v<g&&(s[h]=l,u.decrease(h,v))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),e.has(s,l))o.setEdge(l,s[l]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(l).forEach(c)}return o}return lo}var fo,yd;function Ib(){return yd||(yd=1,fo={components:Eb(),dijkstra:Wp(),dijkstraAll:Sb(),findCycles:Ab(),floydWarshall:Cb(),isAcyclic:qb(),postorder:Rb(),preorder:kb(),prim:Tb(),tarjan:Kp(),topsort:Yp()}),fo}var ho,bd;function jb(){if(bd)return ho;bd=1;var e=xb();return ho={Graph:e.Graph,json:wb(),alg:Ib(),version:e.version},ho}var Dr;if(typeof Os=="function")try{Dr=jb()}catch{}Dr||(Dr=window.graphlib);var ie=Dr,po,_d;function Ob(){if(_d)return po;_d=1;var e=xp(),r=1,n=4;function t(i){return e(i,r|n)}return po=t,po}var vo,xd;function hn(){if(xd)return vo;xd=1;var e=ir(),r=me(),n=tn(),t=re();function i(a,o,s){if(!t(s))return!1;var u=typeof o;return(u=="number"?r(s)&&n(o,s.length):u=="string"&&o in s)?e(s[o],a):!1}return vo=i,vo}var go,wd;function Lb(){if(wd)return go;wd=1;var e=dn(),r=ir(),n=hn(),t=Be(),i=Object.prototype,a=i.hasOwnProperty,o=e(function(s,u){s=Object(s);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(c=1);++l<c;)for(var d=u[l],h=t(d),g=-1,v=h.length;++g<v;){var m=h[g],b=s[m];(b===void 0||r(b,i[m])&&!a.call(s,m))&&(s[m]=d[m])}return s});return go=o,go}var mo,Ed;function Nb(){if(Ed)return mo;Ed=1;var e=ye(),r=me(),n=ke();function t(i){return function(a,o,s){var u=Object(a);if(!r(a)){var l=e(o,3);a=n(a),o=function(f){return l(u[f],f,u)}}var c=i(a,o,s);return c>-1?u[l?a[c]:c]:void 0}}return mo=t,mo}var yo,Sd;function Fb(){if(Sd)return yo;Sd=1;var e=/\s/;function r(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}return yo=r,yo}var bo,Ad;function Mb(){if(Ad)return bo;Ad=1;var e=Fb(),r=/^\s+/;function n(t){return t&&t.slice(0,e(t)+1).replace(r,"")}return bo=n,bo}var _o,Cd;function Pb(){if(Cd)return _o;Cd=1;var e=Mb(),r=re(),n=ur(),t=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return t;if(r(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=r(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var f=a.test(l);return f||o.test(l)?s(l.slice(2),f?2:8):i.test(l)?t:+l}return _o=u,_o}var xo,qd;function Qp(){if(qd)return xo;qd=1;var e=Pb(),r=1/0,n=17976931348623157e292;function t(i){if(!i)return i===0?i:0;if(i=e(i),i===r||i===-r){var a=i<0?-1:1;return a*n}return i===i?i:0}return xo=t,xo}var wo,Rd;function Db(){if(Rd)return wo;Rd=1;var e=Qp();function r(n){var t=e(n),i=t%1;return t===t?i?t-i:t:0}return wo=r,wo}var Eo,kd;function Bb(){if(kd)return Eo;kd=1;var e=Up(),r=ye(),n=Db(),t=Math.max;function i(a,o,s){var u=a==null?0:a.length;if(!u)return-1;var l=s==null?0:n(s);return l<0&&(l=t(u+l,0)),e(a,r(o,3),l)}return Eo=i,Eo}var So,Td;function Gb(){if(Td)return So;Td=1;var e=Nb(),r=Bb(),n=e(r);return So=n,So}var Ao,Id;function Jp(){if(Id)return Ao;Id=1;var e=Ks();function r(n){var t=n==null?0:n.length;return t?e(n,1):[]}return Ao=r,Ao}var Co,jd;function $b(){if(jd)return Co;jd=1;var e=Hs(),r=wp(),n=Be();function t(i,a){return i==null?i:e(i,r(a),n)}return Co=t,Co}var qo,Od;function Ub(){if(Od)return qo;Od=1;function e(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return qo=e,qo}var Ro,Ld;function Hb(){if(Ld)return Ro;Ld=1;var e=rn(),r=Vs(),n=ye();function t(i,a){var o={};return a=n(a,3),r(i,function(s,u,l){e(o,u,a(s,u,l))}),o}return Ro=t,Ro}var ko,Nd;function Xs(){if(Nd)return ko;Nd=1;var e=ur();function r(n,t,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],u=t(s);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=s}return c}return ko=r,ko}var To,Fd;function Vb(){if(Fd)return To;Fd=1;function e(r,n){return r>n}return To=e,To}var Io,Md;function zb(){if(Md)return Io;Md=1;var e=Xs(),r=Vb(),n=Ge();function t(i){return i&&i.length?e(i,n,r):void 0}return Io=t,Io}var jo,Pd;function Zp(){if(Pd)return jo;Pd=1;var e=rn(),r=ir();function n(t,i,a){(a!==void 0&&!r(t[i],a)||a===void 0&&!(i in t))&&e(t,i,a)}return jo=n,jo}var Oo,Dd;function Wb(){if(Dd)return Oo;Dd=1;var e=Pe(),r=sn(),n=ce(),t="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,u=o.call(Object);function l(c){if(!n(c)||e(c)!=t)return!1;var f=r(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==u}return Oo=l,Oo}var Lo,Bd;function ev(){if(Bd)return Lo;Bd=1;function e(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}return Lo=e,Lo}var No,Gd;function Kb(){if(Gd)return No;Gd=1;var e=qr(),r=Be();function n(t){return e(t,r(t))}return No=n,No}var Fo,$d;function Yb(){if($d)return Fo;$d=1;var e=Zp(),r=cp(),n=yp(),t=lp(),i=_p(),a=Rr(),o=D(),s=Hp(),u=or(),l=Cr(),c=re(),f=Wb(),d=kr(),h=ev(),g=Kb();function v(m,b,y,w,S,T,_){var x=h(m,y),C=h(b,y),A=_.get(C);if(A){e(m,y,A);return}var k=T?T(x,C,y+"",m,b,_):void 0,E=k===void 0;if(E){var j=o(C),O=!j&&u(C),B=!j&&!O&&d(C);k=C,j||O||B?o(x)?k=x:s(x)?k=t(x):O?(E=!1,k=r(C,!0)):B?(E=!1,k=n(C,!0)):k=[]:f(C)||a(C)?(k=x,a(x)?k=g(x):(!c(x)||l(x))&&(k=i(C))):E=!1}E&&(_.set(C,k),S(k,C,w,T,_),_.delete(C)),e(m,y,k)}return Fo=v,Fo}var Mo,Ud;function Xb(){if(Ud)return Mo;Ud=1;var e=en(),r=Zp(),n=Hs(),t=Yb(),i=re(),a=Be(),o=ev();function s(u,l,c,f,d){u!==l&&n(l,function(h,g){if(d||(d=new e),i(h))t(u,l,g,c,s,f,d);else{var v=f?f(o(u,g),h,g+"",u,l,d):void 0;v===void 0&&(v=h),r(u,g,v)}},a)}return Mo=s,Mo}var Po,Hd;function Qb(){if(Hd)return Po;Hd=1;var e=dn(),r=hn();function n(t){return e(function(i,a){var o=-1,s=a.length,u=s>1?a[s-1]:void 0,l=s>2?a[2]:void 0;for(u=t.length>3&&typeof u=="function"?(s--,u):void 0,l&&r(a[0],a[1],l)&&(u=s<3?void 0:u,s=1),i=Object(i);++o<s;){var c=a[o];c&&t(i,c,o,u)}return i})}return Po=n,Po}var Do,Vd;function Jb(){if(Vd)return Do;Vd=1;var e=Xb(),r=Qb(),n=r(function(t,i,a){e(t,i,a)});return Do=n,Do}var Bo,zd;function rv(){if(zd)return Bo;zd=1;function e(r,n){return r<n}return Bo=e,Bo}var Go,Wd;function Zb(){if(Wd)return Go;Wd=1;var e=Xs(),r=rv(),n=Ge();function t(i){return i&&i.length?e(i,n,r):void 0}return Go=t,Go}var $o,Kd;function e0(){if(Kd)return $o;Kd=1;var e=Xs(),r=ye(),n=rv();function t(i,a){return i&&i.length?e(i,r(a,2),n):void 0}return $o=t,$o}var Uo,Yd;function r0(){if(Yd)return Uo;Yd=1;var e=te(),r=function(){return e.Date.now()};return Uo=r,Uo}var Ho,Xd;function n0(){if(Xd)return Ho;Xd=1;var e=nn(),r=ln(),n=tn(),t=re(),i=Tr();function a(o,s,u,l){if(!t(o))return o;s=r(s,o);for(var c=-1,f=s.length,d=f-1,h=o;h!=null&&++c<f;){var g=i(s[c]),v=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=d){var m=h[g];v=l?l(m,g,h):void 0,v===void 0&&(v=t(m)?m:n(s[c+1])?[]:{})}e(h,g,v),h=h[g]}return o}return Ho=a,Ho}var Vo,Qd;function t0(){if(Qd)return Vo;Qd=1;var e=fn(),r=n0(),n=ln();function t(i,a,o){for(var s=-1,u=a.length,l={};++s<u;){var c=a[s],f=e(i,c);o(f,c)&&r(l,n(c,i),f)}return l}return Vo=t,Vo}var zo,Jd;function i0(){if(Jd)return zo;Jd=1;var e=t0(),r=Op();function n(t,i){return e(t,i,function(a,o){return r(t,o)})}return zo=n,zo}var Wo,Zd;function a0(){if(Zd)return Wo;Zd=1;var e=Jp(),r=Gp(),n=$p();function t(i){return n(r(i,void 0,e),i+"")}return Wo=t,Wo}var Ko,eh;function o0(){if(eh)return Ko;eh=1;var e=i0(),r=a0(),n=r(function(t,i){return t==null?{}:e(t,i)});return Ko=n,Ko}var Yo,rh;function s0(){if(rh)return Yo;rh=1;var e=Math.ceil,r=Math.max;function n(t,i,a,o){for(var s=-1,u=r(e((i-t)/(a||1)),0),l=Array(u);u--;)l[o?u:++s]=t,t+=a;return l}return Yo=n,Yo}var Xo,nh;function u0(){if(nh)return Xo;nh=1;var e=s0(),r=hn(),n=Qp();function t(i){return function(a,o,s){return s&&typeof s!="number"&&r(a,o,s)&&(o=s=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),s=s===void 0?a<o?1:-1:n(s),e(a,o,s,i)}}return Xo=t,Xo}var Qo,th;function c0(){if(th)return Qo;th=1;var e=u0(),r=e();return Qo=r,Qo}var Jo,ih;function l0(){if(ih)return Jo;ih=1;function e(r,n){var t=r.length;for(r.sort(n);t--;)r[t]=r[t].value;return r}return Jo=e,Jo}var Zo,ah;function f0(){if(ah)return Zo;ah=1;var e=ur();function r(n,t){if(n!==t){var i=n!==void 0,a=n===null,o=n===n,s=e(n),u=t!==void 0,l=t===null,c=t===t,f=e(t);if(!l&&!f&&!s&&n>t||s&&u&&c&&!l&&!f||a&&u&&c||!i&&c||!o)return 1;if(!a&&!s&&!f&&n<t||f&&i&&o&&!a&&!s||l&&i&&o||!u&&o||!c)return-1}return 0}return Zo=r,Zo}var es,oh;function d0(){if(oh)return es;oh=1;var e=f0();function r(n,t,i){for(var a=-1,o=n.criteria,s=t.criteria,u=o.length,l=i.length;++a<u;){var c=e(o[a],s[a]);if(c){if(a>=l)return c;var f=i[a];return c*(f=="desc"?-1:1)}}return n.index-t.index}return es=r,es}var rs,sh;function h0(){if(sh)return rs;sh=1;var e=cn(),r=fn(),n=ye(),t=Pp(),i=l0(),a=an(),o=d0(),s=Ge(),u=D();function l(c,f,d){f.length?f=e(f,function(v){return u(v)?function(m){return r(m,v.length===1?v[0]:v)}:v}):f=[s];var h=-1;f=e(f,a(n));var g=t(c,function(v,m,b){var y=e(f,function(w){return w(v)});return{criteria:y,index:++h,value:v}});return i(g,function(v,m){return o(v,m,d)})}return rs=l,rs}var ns,uh;function p0(){if(uh)return ns;uh=1;var e=Ks(),r=h0(),n=dn(),t=hn(),i=n(function(a,o){if(a==null)return[];var s=o.length;return s>1&&t(a,o[0],o[1])?o=[]:s>2&&t(o[0],o[1],o[2])&&(o=[o[0]]),r(a,e(o,1),[])});return ns=i,ns}var ts,ch;function v0(){if(ch)return ts;ch=1;var e=Ip(),r=0;function n(t){var i=++r;return e(t)+i}return ts=n,ts}var is,lh;function g0(){if(lh)return is;lh=1;function e(r,n,t){for(var i=-1,a=r.length,o=n.length,s={};++i<a;){var u=i<o?n[i]:void 0;t(s,r[i],u)}return s}return is=e,is}var as,fh;function m0(){if(fh)return as;fh=1;var e=nn(),r=g0();function n(t,i){return r(t||[],i||[],e)}return as=n,as}var Br;if(typeof Os=="function")try{Br={cloneDeep:Ob(),constant:Us(),defaults:Lb(),each:Sp(),filter:Np(),find:Gb(),flatten:Jp(),forEach:Ep(),forIn:$b(),has:Fp(),isUndefined:Mp(),last:Ub(),map:Dp(),mapValues:Hb(),max:zb(),merge:Jb(),min:Zb(),minBy:e0(),now:r0(),pick:o0(),range:c0(),reduce:Bp(),sortBy:p0(),uniqueId:v0(),values:Vp(),zipObject:m0()}}catch{}Br||(Br=window._);var M=Br,y0=pn;function pn(){var e={};e._next=e._prev=e,this._sentinel=e}pn.prototype.dequeue=function(){var e=this._sentinel,r=e._prev;if(r!==e)return nv(r),r};pn.prototype.enqueue=function(e){var r=this._sentinel;e._prev&&e._next&&nv(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r};pn.prototype.toString=function(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,b0)),n=n._prev;return"["+e.join(", ")+"]"};function nv(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function b0(e,r){if(e!=="_next"&&e!=="_prev")return r}var he=M,_0=ie.Graph,x0=y0,w0=S0,E0=he.constant(1);function S0(e,r){if(e.nodeCount()<=1)return[];var n=C0(e,r||E0),t=A0(n.graph,n.buckets,n.zeroIdx);return he.flatten(he.map(t,function(i){return e.outEdges(i.v,i.w)}),!0)}function A0(e,r,n){for(var t=[],i=r[r.length-1],a=r[0],o;e.nodeCount();){for(;o=a.dequeue();)os(e,r,n,o);for(;o=i.dequeue();)os(e,r,n,o);if(e.nodeCount()){for(var s=r.length-2;s>0;--s)if(o=r[s].dequeue(),o){t=t.concat(os(e,r,n,o,!0));break}}}return t}function os(e,r,n,t,i){var a=i?[]:void 0;return he.forEach(e.inEdges(t.v),function(o){var s=e.edge(o),u=e.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=s,Ss(r,n,u)}),he.forEach(e.outEdges(t.v),function(o){var s=e.edge(o),u=o.w,l=e.node(u);l.in-=s,Ss(r,n,l)}),e.removeNode(t.v),a}function C0(e,r){var n=new _0,t=0,i=0;he.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),he.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,l=r(s),c=u+l;n.setEdge(s.v,s.w,c),i=Math.max(i,n.node(s.v).out+=l),t=Math.max(t,n.node(s.w).in+=l)});var a=he.range(i+t+3).map(function(){return new x0}),o=t+1;return he.forEach(n.nodes(),function(s){Ss(a,o,n.node(s))}),{graph:n,buckets:a,zeroIdx:o}}function Ss(e,r,n){n.out?n.in?e[n.out-n.in+r].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ne=M,q0=w0,R0={run:k0,undo:I0};function k0(e){var r=e.graph().acyclicer==="greedy"?q0(e,n(e)):T0(e);Ne.forEach(r,function(t){var i=e.edge(t);e.removeEdge(t),i.forwardName=t.name,i.reversed=!0,e.setEdge(t.w,t.v,i,Ne.uniqueId("rev"))});function n(t){return function(i){return t.edge(i).weight}}}function T0(e){var r=[],n={},t={};function i(a){Ne.has(t,a)||(t[a]=!0,n[a]=!0,Ne.forEach(e.outEdges(a),function(o){Ne.has(n,o.w)?r.push(o):i(o.w)}),delete n[a])}return Ne.forEach(e.nodes(),i),r}function I0(e){Ne.forEach(e.edges(),function(r){var n=e.edge(r);if(n.reversed){e.removeEdge(r);var t=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(r.w,r.v,n,t)}})}var L=M,tv=ie.Graph,J={addDummyNode:iv,simplify:j0,asNonCompoundGraph:O0,successorWeights:L0,predecessorWeights:N0,intersectRect:F0,buildLayerMatrix:M0,normalizeRanks:P0,removeEmptyRanks:D0,addBorderNode:B0,maxRank:av,partition:G0,time:$0,notime:U0};function iv(e,r,n,t){var i;do i=L.uniqueId(t);while(e.hasNode(i));return n.dummy=r,e.setNode(i,n),i}function j0(e){var r=new tv().setGraph(e.graph());return L.forEach(e.nodes(),function(n){r.setNode(n,e.node(n))}),L.forEach(e.edges(),function(n){var t=r.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);r.setEdge(n.v,n.w,{weight:t.weight+i.weight,minlen:Math.max(t.minlen,i.minlen)})}),r}function O0(e){var r=new tv({multigraph:e.isMultigraph()}).setGraph(e.graph());return L.forEach(e.nodes(),function(n){e.children(n).length||r.setNode(n,e.node(n))}),L.forEach(e.edges(),function(n){r.setEdge(n,e.edge(n))}),r}function L0(e){var r=L.map(e.nodes(),function(n){var t={};return L.forEach(e.outEdges(n),function(i){t[i.w]=(t[i.w]||0)+e.edge(i).weight}),t});return L.zipObject(e.nodes(),r)}function N0(e){var r=L.map(e.nodes(),function(n){var t={};return L.forEach(e.inEdges(n),function(i){t[i.v]=(t[i.v]||0)+e.edge(i).weight}),t});return L.zipObject(e.nodes(),r)}function F0(e,r){var n=e.x,t=e.y,i=r.x-n,a=r.y-t,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,l=s):(i<0&&(o=-o),u=o,l=o*a/i),{x:n+u,y:t+l}}function M0(e){var r=L.map(L.range(av(e)+1),function(){return[]});return L.forEach(e.nodes(),function(n){var t=e.node(n),i=t.rank;L.isUndefined(i)||(r[i][t.order]=n)}),r}function P0(e){var r=L.min(L.map(e.nodes(),function(n){return e.node(n).rank}));L.forEach(e.nodes(),function(n){var t=e.node(n);L.has(t,"rank")&&(t.rank-=r)})}function D0(e){var r=L.min(L.map(e.nodes(),function(a){return e.node(a).rank})),n=[];L.forEach(e.nodes(),function(a){var o=e.node(a).rank-r;n[o]||(n[o]=[]),n[o].push(a)});var t=0,i=e.graph().nodeRankFactor;L.forEach(n,function(a,o){L.isUndefined(a)&&o%i!==0?--t:t&&L.forEach(a,function(s){e.node(s).rank+=t})})}function B0(e,r,n,t){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=t),iv(e,"border",i,r)}function av(e){return L.max(L.map(e.nodes(),function(r){var n=e.node(r).rank;if(!L.isUndefined(n))return n}))}function G0(e,r){var n={lhs:[],rhs:[]};return L.forEach(e,function(t){r(t)?n.lhs.push(t):n.rhs.push(t)}),n}function $0(e,r){var n=L.now();try{return r()}finally{console.log(e+" time: "+(L.now()-n)+"ms")}}function U0(e,r){return r()}var ov=M,H0=J,V0={run:z0,undo:K0};function z0(e){e.graph().dummyChains=[],ov.forEach(e.edges(),function(r){W0(e,r)})}function W0(e,r){var n=r.v,t=e.node(n).rank,i=r.w,a=e.node(i).rank,o=r.name,s=e.edge(r),u=s.labelRank;if(a!==t+1){e.removeEdge(r);var l,c,f;for(f=0,++t;t<a;++f,++t)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:r,rank:t},l=H0.addDummyNode(e,"edge",c,"_d"),t===u&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,l,{weight:s.weight},o),f===0&&e.graph().dummyChains.push(l),n=l;e.setEdge(n,i,{weight:s.weight},o)}}function K0(e){ov.forEach(e.graph().dummyChains,function(r){var n=e.node(r),t=n.edgeLabel,i;for(e.setEdge(n.edgeObj,t);n.dummy;)i=e.successors(r)[0],e.removeNode(r),t.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height),r=i,n=e.node(r)})}var Fr=M,vn={longestPath:Y0,slack:X0};function Y0(e){var r={};function n(t){var i=e.node(t);if(Fr.has(r,t))return i.rank;r[t]=!0;var a=Fr.min(Fr.map(e.outEdges(t),function(o){return n(o.w)-e.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}Fr.forEach(e.sources(),n)}function X0(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}var Gr=M,Q0=ie.Graph,$r=vn.slack,sv=J0;function J0(e){var r=new Q0({directed:!1}),n=e.nodes()[0],t=e.nodeCount();r.setNode(n,{});for(var i,a;Z0(r,e)<t;)i=e_(r,e),a=r.hasNode(i.v)?$r(e,i):-$r(e,i),r_(r,e,a);return r}function Z0(e,r){function n(t){Gr.forEach(r.nodeEdges(t),function(i){var a=i.v,o=t===a?i.w:a;!e.hasNode(o)&&!$r(r,i)&&(e.setNode(o,{}),e.setEdge(t,o,{}),n(o))})}return Gr.forEach(e.nodes(),n),e.nodeCount()}function e_(e,r){return Gr.minBy(r.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return $r(r,n)})}function r_(e,r,n){Gr.forEach(e.nodes(),function(t){r.node(t).rank+=n})}var ve=M,n_=sv,t_=vn.slack,i_=vn.longestPath,a_=ie.alg.preorder,o_=ie.alg.postorder,s_=J.simplify,u_=$e;$e.initLowLimValues=Js;$e.initCutValues=Qs;$e.calcCutValue=uv;$e.leaveEdge=lv;$e.enterEdge=fv;$e.exchangeEdges=dv;function $e(e){e=s_(e),i_(e);var r=n_(e);Js(r),Qs(r,e);for(var n,t;n=lv(r);)t=fv(r,e,n),dv(r,e,n,t)}function Qs(e,r){var n=o_(e,e.nodes());n=n.slice(0,n.length-1),ve.forEach(n,function(t){c_(e,r,t)})}function c_(e,r,n){var t=e.node(n),i=t.parent;e.edge(n,i).cutvalue=uv(e,r,n)}function uv(e,r,n){var t=e.node(n),i=t.parent,a=!0,o=r.edge(n,i),s=0;return o||(a=!1,o=r.edge(i,n)),s=o.weight,ve.forEach(r.nodeEdges(n),function(u){var l=u.v===n,c=l?u.w:u.v;if(c!==i){var f=l===a,d=r.edge(u).weight;if(s+=f?d:-d,f_(e,n,c)){var h=e.edge(n,c).cutvalue;s+=f?-h:h}}}),s}function Js(e,r){arguments.length<2&&(r=e.nodes()[0]),cv(e,{},1,r)}function cv(e,r,n,t,i){var a=n,o=e.node(t);return r[t]=!0,ve.forEach(e.neighbors(t),function(s){ve.has(r,s)||(n=cv(e,r,n,s,t))}),o.low=a,o.lim=n++,i?o.parent=i:delete o.parent,n}function lv(e){return ve.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function fv(e,r,n){var t=n.v,i=n.w;r.hasEdge(t,i)||(t=n.w,i=n.v);var a=e.node(t),o=e.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=ve.filter(r.edges(),function(c){return u===dh(e,e.node(c.v),s)&&u!==dh(e,e.node(c.w),s)});return ve.minBy(l,function(c){return t_(r,c)})}function dv(e,r,n,t){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(t.v,t.w,{}),Js(e),Qs(e,r),l_(e,r)}function l_(e,r){var n=ve.find(e.nodes(),function(i){return!r.node(i).parent}),t=a_(e,n);t=t.slice(1),ve.forEach(t,function(i){var a=e.node(i).parent,o=r.edge(i,a),s=!1;o||(o=r.edge(a,i),s=!0),r.node(i).rank=r.node(a).rank+(s?o.minlen:-o.minlen)})}function f_(e,r,n){return e.hasEdge(r,n)}function dh(e,r,n){return n.low<=r.lim&&r.lim<=n.lim}var d_=vn,hv=d_.longestPath,h_=sv,p_=u_,v_=g_;function g_(e){switch(e.graph().ranker){case"network-simplex":hh(e);break;case"tight-tree":y_(e);break;case"longest-path":m_(e);break;default:hh(e)}}var m_=hv;function y_(e){hv(e),h_(e)}function hh(e){p_(e)}var As=M,b_=__;function __(e){var r=w_(e);As.forEach(e.graph().dummyChains,function(n){for(var t=e.node(n),i=t.edgeObj,a=x_(e,r,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],c=!0;n!==i.w;){if(t=e.node(n),c){for(;(l=o[u])!==s&&e.node(l).maxRank<t.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=t.rank;)u++;l=o[u]}e.setParent(n,l),n=e.successors(n)[0]}})}function x_(e,r,n,t){var i=[],a=[],o=Math.min(r[n].low,r[t].low),s=Math.max(r[n].lim,r[t].lim),u,l;u=n;do u=e.parent(u),i.push(u);while(u&&(r[u].low>o||s>r[u].lim));for(l=u,u=t;(u=e.parent(u))!==l;)a.push(u);return{path:i.concat(a.reverse()),lca:l}}function w_(e){var r={},n=0;function t(i){var a=n;As.forEach(e.children(i),t),r[i]={low:a,lim:n++}}return As.forEach(e.children(),t),r}var pe=M,Cs=J,E_={run:S_,cleanup:q_};function S_(e){var r=Cs.addDummyNode(e,"root",{},"_root"),n=A_(e),t=pe.max(pe.values(n))-1,i=2*t+1;e.graph().nestingRoot=r,pe.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var a=C_(e)+1;pe.forEach(e.children(),function(o){pv(e,r,i,a,t,n,o)}),e.graph().nodeRankFactor=i}function pv(e,r,n,t,i,a,o){var s=e.children(o);if(!s.length){o!==r&&e.setEdge(r,o,{weight:0,minlen:n});return}var u=Cs.addBorderNode(e,"_bt"),l=Cs.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(u,o),c.borderTop=u,e.setParent(l,o),c.borderBottom=l,pe.forEach(s,function(f){pv(e,r,n,t,i,a,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,g=d.borderBottom?d.borderBottom:f,v=d.borderTop?t:2*t,m=h!==g?1:i-a[o]+1;e.setEdge(u,h,{weight:v,minlen:m,nestingEdge:!0}),e.setEdge(g,l,{weight:v,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(r,u,{weight:0,minlen:i+a[o]})}function A_(e){var r={};function n(t,i){var a=e.children(t);a&&a.length&&pe.forEach(a,function(o){n(o,i+1)}),r[t]=i}return pe.forEach(e.children(),function(t){n(t,1)}),r}function C_(e){return pe.reduce(e.edges(),function(r,n){return r+e.edge(n).weight},0)}function q_(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,pe.forEach(e.edges(),function(n){var t=e.edge(n);t.nestingEdge&&e.removeEdge(n)})}var ss=M,R_=J,k_=T_;function T_(e){function r(n){var t=e.children(n),i=e.node(n);if(t.length&&ss.forEach(t,r),ss.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)ph(e,"borderLeft","_bl",n,i,a),ph(e,"borderRight","_br",n,i,a)}}ss.forEach(e.children(),r)}function ph(e,r,n,t,i,a){var o={width:0,height:0,rank:a,borderType:r},s=i[r][a-1],u=R_.addDummyNode(e,"border",o,n);i[r][a]=u,e.setParent(u,t),s&&e.setEdge(s,u,{weight:1})}var oe=M,I_={adjust:j_,undo:O_};function j_(e){var r=e.graph().rankdir.toLowerCase();(r==="lr"||r==="rl")&&vv(e)}function O_(e){var r=e.graph().rankdir.toLowerCase();(r==="bt"||r==="rl")&&L_(e),(r==="lr"||r==="rl")&&(N_(e),vv(e))}function vv(e){oe.forEach(e.nodes(),function(r){vh(e.node(r))}),oe.forEach(e.edges(),function(r){vh(e.edge(r))})}function vh(e){var r=e.width;e.width=e.height,e.height=r}function L_(e){oe.forEach(e.nodes(),function(r){us(e.node(r))}),oe.forEach(e.edges(),function(r){var n=e.edge(r);oe.forEach(n.points,us),oe.has(n,"y")&&us(n)})}function us(e){e.y=-e.y}function N_(e){oe.forEach(e.nodes(),function(r){cs(e.node(r))}),oe.forEach(e.edges(),function(r){var n=e.edge(r);oe.forEach(n.points,cs),oe.has(n,"x")&&cs(n)})}function cs(e){var r=e.x;e.x=e.y,e.y=r}var fe=M,F_=M_;function M_(e){var r={},n=fe.filter(e.nodes(),function(s){return!e.children(s).length}),t=fe.max(fe.map(n,function(s){return e.node(s).rank})),i=fe.map(fe.range(t+1),function(){return[]});function a(s){if(!fe.has(r,s)){r[s]=!0;var u=e.node(s);i[u.rank].push(s),fe.forEach(e.successors(s),a)}}var o=fe.sortBy(n,function(s){return e.node(s).rank});return fe.forEach(o,a),i}var xe=M,P_=D_;function D_(e,r){for(var n=0,t=1;t<r.length;++t)n+=B_(e,r[t-1],r[t]);return n}function B_(e,r,n){for(var t=xe.zipObject(n,xe.map(n,function(l,c){return c})),i=xe.flatten(xe.map(r,function(l){return xe.sortBy(xe.map(e.outEdges(l),function(c){return{pos:t[c.w],weight:e.edge(c).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var o=2*a-1;a-=1;var s=xe.map(new Array(o),function(){return 0}),u=0;return xe.forEach(i.forEach(function(l){var c=l.pos+a;s[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=l.weight;u+=l.weight*f})),u}var gh=M,G_=$_;function $_(e,r){return gh.map(r,function(n){var t=e.inEdges(n);if(t.length){var i=gh.reduce(t,function(a,o){var s=e.edge(o),u=e.node(o.v);return{sum:a.sum+s.weight*u.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ee=M,U_=H_;function H_(e,r){var n={};ee.forEach(e,function(i,a){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};ee.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),ee.forEach(r.edges(),function(i){var a=n[i.v],o=n[i.w];!ee.isUndefined(a)&&!ee.isUndefined(o)&&(o.indegree++,a.out.push(n[i.w]))});var t=ee.filter(n,function(i){return!i.indegree});return V_(t)}function V_(e){var r=[];function n(a){return function(o){o.merged||(ee.isUndefined(o.barycenter)||ee.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&z_(a,o)}}function t(a){return function(o){o.in.push(a),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();r.push(i),ee.forEach(i.in.reverse(),n(i)),ee.forEach(i.out,t(i))}return ee.map(ee.filter(r,function(a){return!a.merged}),function(a){return ee.pick(a,["vs","i","barycenter","weight"])})}function z_(e,r){var n=0,t=0;e.weight&&(n+=e.barycenter*e.weight,t+=e.weight),r.weight&&(n+=r.barycenter*r.weight,t+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=n/t,e.weight=t,e.i=Math.min(r.i,e.i),r.merged=!0}var mr=M,W_=J,K_=Y_;function Y_(e,r){var n=W_.partition(e,function(c){return mr.has(c,"barycenter")}),t=n.lhs,i=mr.sortBy(n.rhs,function(c){return-c.i}),a=[],o=0,s=0,u=0;t.sort(X_(!!r)),u=mh(a,i,u),mr.forEach(t,function(c){u+=c.vs.length,a.push(c.vs),o+=c.barycenter*c.weight,s+=c.weight,u=mh(a,i,u)});var l={vs:mr.flatten(a,!0)};return s&&(l.barycenter=o/s,l.weight=s),l}function mh(e,r,n){for(var t;r.length&&(t=mr.last(r)).i<=n;)r.pop(),e.push(t.vs),n++;return n}function X_(e){return function(r,n){return r.barycenter<n.barycenter?-1:r.barycenter>n.barycenter?1:e?n.i-r.i:r.i-n.i}}var we=M,Q_=G_,J_=U_,Z_=K_,ex=gv;function gv(e,r,n,t){var i=e.children(r),a=e.node(r),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,u={};o&&(i=we.filter(i,function(g){return g!==o&&g!==s}));var l=Q_(e,i);we.forEach(l,function(g){if(e.children(g.v).length){var v=gv(e,g.v,n,t);u[g.v]=v,we.has(v,"barycenter")&&nx(g,v)}});var c=J_(l,n);rx(c,u);var f=Z_(c,t);if(o&&(f.vs=we.flatten([o,f.vs,s],!0),e.predecessors(o).length)){var d=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(s)[0]);we.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function rx(e,r){we.forEach(e,function(n){n.vs=we.flatten(n.vs.map(function(t){return r[t]?r[t].vs:t}),!0)})}function nx(e,r){we.isUndefined(e.barycenter)?(e.barycenter=r.barycenter,e.weight=r.weight):(e.barycenter=(e.barycenter*e.weight+r.barycenter*r.weight)/(e.weight+r.weight),e.weight+=r.weight)}var yr=M,tx=ie.Graph,ix=ax;function ax(e,r,n){var t=ox(e),i=new tx({compound:!0}).setGraph({root:t}).setDefaultNodeLabel(function(a){return e.node(a)});return yr.forEach(e.nodes(),function(a){var o=e.node(a),s=e.parent(a);(o.rank===r||o.minRank<=r&&r<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||t),yr.forEach(e[n](a),function(u){var l=u.v===a?u.w:u.v,c=i.edge(l,a),f=yr.isUndefined(c)?0:c.weight;i.setEdge(l,a,{weight:e.edge(u).weight+f})}),yr.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[r],borderRight:o.borderRight[r]}))}),i}function ox(e){for(var r;e.hasNode(r=yr.uniqueId("_root")););return r}var sx=M,ux=cx;function cx(e,r,n){var t={},i;sx.forEach(n,function(a){for(var o=e.parent(a),s,u;o;){if(s=e.parent(o),s?(u=t[s],t[s]=o):(u=i,i=o),u&&u!==o){r.setEdge(u,o);return}o=s}})}var Se=M,lx=F_,fx=P_,dx=ex,hx=ix,px=ux,vx=ie.Graph,yh=J,gx=mx;function mx(e){var r=yh.maxRank(e),n=bh(e,Se.range(1,r+1),"inEdges"),t=bh(e,Se.range(r-1,-1,-1),"outEdges"),i=lx(e);_h(e,i);for(var a=Number.POSITIVE_INFINITY,o,s=0,u=0;u<4;++s,++u){yx(s%2?n:t,s%4>=2),i=yh.buildLayerMatrix(e);var l=fx(e,i);l<a&&(u=0,o=Se.cloneDeep(i),a=l)}_h(e,o)}function bh(e,r,n){return Se.map(r,function(t){return hx(e,t,n)})}function yx(e,r){var n=new vx;Se.forEach(e,function(t){var i=t.graph().root,a=dx(t,i,n,r);Se.forEach(a.vs,function(o,s){t.node(o).order=s}),px(t,n,a.vs)})}function _h(e,r){Se.forEach(r,function(n){Se.forEach(n,function(t,i){e.node(t).order=i})})}var R=M,bx=ie.Graph,_x=J,xx={positionX:jx};function wx(e,r){var n={};function t(i,a){var o=0,s=0,u=i.length,l=R.last(a);return R.forEach(a,function(c,f){var d=Sx(e,c),h=d?e.node(d).order:u;(d||c===l)&&(R.forEach(a.slice(s,f+1),function(g){R.forEach(e.predecessors(g),function(v){var m=e.node(v),b=m.order;(b<o||h<b)&&!(m.dummy&&e.node(g).dummy)&&mv(n,v,g)})}),s=f+1,o=h)}),a}return R.reduce(r,t),n}function Ex(e,r){var n={};function t(a,o,s,u,l){var c;R.forEach(R.range(o,s),function(f){c=a[f],e.node(c).dummy&&R.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<u||h.order>l)&&mv(n,d,c)})})}function i(a,o){var s=-1,u,l=0;return R.forEach(o,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(u=e.node(d[0]).order,t(o,l,f,s,u),l=f,s=u)}t(o,l,o.length,u,a.length)}),o}return R.reduce(r,i),n}function Sx(e,r){if(e.node(r).dummy)return R.find(e.predecessors(r),function(n){return e.node(n).dummy})}function mv(e,r,n){if(r>n){var t=r;r=n,n=t}var i=e[r];i||(e[r]=i={}),i[n]=!0}function Ax(e,r,n){if(r>n){var t=r;r=n,n=t}return R.has(e[r],n)}function Cx(e,r,n,t){var i={},a={},o={};return R.forEach(r,function(s){R.forEach(s,function(u,l){i[u]=u,a[u]=u,o[u]=l})}),R.forEach(r,function(s){var u=-1;R.forEach(s,function(l){var c=t(l);if(c.length){c=R.sortBy(c,function(v){return o[v]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var g=c[d];a[l]===l&&u<o[g]&&!Ax(n,l,g)&&(a[g]=l,a[l]=i[l]=i[g],u=o[g])}}})}),{root:i,align:a}}function qx(e,r,n,t,i){var a={},o=Rx(e,r,n,i),s=i?"borderLeft":"borderRight";function u(f,d){for(var h=o.nodes(),g=h.pop(),v={};g;)v[g]?f(g):(v[g]=!0,h.push(g),h=h.concat(d(g))),g=h.pop()}function l(f){a[f]=o.inEdges(f).reduce(function(d,h){return Math.max(d,a[h.v]+o.edge(h))},0)}function c(f){var d=o.outEdges(f).reduce(function(g,v){return Math.min(g,a[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(a[f]=Math.max(a[f],d))}return u(l,o.predecessors.bind(o)),u(c,o.successors.bind(o)),R.forEach(t,function(f){a[f]=a[n[f]]}),a}function Rx(e,r,n,t){var i=new bx,a=e.graph(),o=Ox(a.nodesep,a.edgesep,t);return R.forEach(r,function(s){var u;R.forEach(s,function(l){var c=n[l];if(i.setNode(c),u){var f=n[u],d=i.edge(f,c);i.setEdge(f,c,Math.max(o(e,l,u),d||0))}u=l})}),i}function kx(e,r){return R.minBy(R.values(r),function(n){var t=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return R.forIn(n,function(a,o){var s=Lx(e,o)/2;t=Math.max(a+s,t),i=Math.min(a-s,i)}),t-i})}function Tx(e,r){var n=R.values(r),t=R.min(n),i=R.max(n);R.forEach(["u","d"],function(a){R.forEach(["l","r"],function(o){var s=a+o,u=e[s],l;if(u!==r){var c=R.values(u);l=o==="l"?t-R.min(c):i-R.max(c),l&&(e[s]=R.mapValues(u,function(f){return f+l}))}})})}function Ix(e,r){return R.mapValues(e.ul,function(n,t){if(r)return e[r.toLowerCase()][t];var i=R.sortBy(R.map(e,t));return(i[1]+i[2])/2})}function jx(e){var r=_x.buildLayerMatrix(e),n=R.merge(wx(e,r),Ex(e,r)),t={},i;R.forEach(["u","d"],function(o){i=o==="u"?r:R.values(r).reverse(),R.forEach(["l","r"],function(s){s==="r"&&(i=R.map(i,function(f){return R.values(f).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),l=Cx(e,i,n,u),c=qx(e,i,l.root,l.align,s==="r");s==="r"&&(c=R.mapValues(c,function(f){return-f})),t[o+s]=c})});var a=kx(e,t);return Tx(t,a),Ix(t,e.graph().align)}function Ox(e,r,n){return function(t,i,a){var o=t.node(i),s=t.node(a),u=0,l;if(u+=o.width/2,R.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=n?l:-l),l=0,u+=(o.dummy?r:e)/2,u+=(s.dummy?r:e)/2,u+=s.width/2,R.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=n?l:-l),l=0,u}}function Lx(e,r){return e.node(r).width}var br=M,yv=J,Nx=xx.positionX,Fx=Mx;function Mx(e){e=yv.asNonCompoundGraph(e),Px(e),br.forEach(Nx(e),function(r,n){e.node(n).x=r})}function Px(e){var r=yv.buildLayerMatrix(e),n=e.graph().ranksep,t=0;br.forEach(r,function(i){var a=br.max(br.map(i,function(o){return e.node(o).height}));br.forEach(i,function(o){e.node(o).y=t+a/2}),t+=a+n})}var I=M,xh=R0,wh=V0,Dx=v_,Bx=J.normalizeRanks,Gx=b_,$x=J.removeEmptyRanks,Eh=E_,Ux=k_,Sh=I_,Hx=gx,Vx=Fx,qe=J,zx=ie.Graph,Wx=Kx;function Kx(e,r){var n=r&&r.debugTiming?qe.time:qe.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return a1(e)});n("  runLayout",function(){Yx(t,n)}),n("  updateInputGraph",function(){Xx(e,t)})})}function Yx(e,r){r("    makeSpaceForEdgeLabels",function(){o1(e)}),r("    removeSelfEdges",function(){v1(e)}),r("    acyclic",function(){xh.run(e)}),r("    nestingGraph.run",function(){Eh.run(e)}),r("    rank",function(){Dx(qe.asNonCompoundGraph(e))}),r("    injectEdgeLabelProxies",function(){s1(e)}),r("    removeEmptyRanks",function(){$x(e)}),r("    nestingGraph.cleanup",function(){Eh.cleanup(e)}),r("    normalizeRanks",function(){Bx(e)}),r("    assignRankMinMax",function(){u1(e)}),r("    removeEdgeLabelProxies",function(){c1(e)}),r("    normalize.run",function(){wh.run(e)}),r("    parentDummyChains",function(){Gx(e)}),r("    addBorderSegments",function(){Ux(e)}),r("    order",function(){Hx(e)}),r("    insertSelfEdges",function(){g1(e)}),r("    adjustCoordinateSystem",function(){Sh.adjust(e)}),r("    position",function(){Vx(e)}),r("    positionSelfEdges",function(){m1(e)}),r("    removeBorderNodes",function(){p1(e)}),r("    normalize.undo",function(){wh.undo(e)}),r("    fixupEdgeLabelCoords",function(){d1(e)}),r("    undoCoordinateSystem",function(){Sh.undo(e)}),r("    translateGraph",function(){l1(e)}),r("    assignNodeIntersects",function(){f1(e)}),r("    reversePoints",function(){h1(e)}),r("    acyclic.undo",function(){xh.undo(e)})}function Xx(e,r){I.forEach(e.nodes(),function(n){var t=e.node(n),i=r.node(n);t&&(t.x=i.x,t.y=i.y,r.children(n).length&&(t.width=i.width,t.height=i.height))}),I.forEach(e.edges(),function(n){var t=e.edge(n),i=r.edge(n);t.points=i.points,I.has(i,"x")&&(t.x=i.x,t.y=i.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height}var Qx=["nodesep","edgesep","ranksep","marginx","marginy"],Jx={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Zx=["acyclicer","ranker","rankdir","align"],e1=["width","height"],r1={width:0,height:0},n1=["minlen","weight","width","height","labeloffset"],t1={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},i1=["labelpos"];function a1(e){var r=new zx({multigraph:!0,compound:!0}),n=fs(e.graph());return r.setGraph(I.merge({},Jx,ls(n,Qx),I.pick(n,Zx))),I.forEach(e.nodes(),function(t){var i=fs(e.node(t));r.setNode(t,I.defaults(ls(i,e1),r1)),r.setParent(t,e.parent(t))}),I.forEach(e.edges(),function(t){var i=fs(e.edge(t));r.setEdge(t,I.merge({},t1,ls(i,n1),I.pick(i,i1)))}),r}function o1(e){var r=e.graph();r.ranksep/=2,I.forEach(e.edges(),function(n){var t=e.edge(n);t.minlen*=2,t.labelpos.toLowerCase()!=="c"&&(r.rankdir==="TB"||r.rankdir==="BT"?t.width+=t.labeloffset:t.height+=t.labeloffset)})}function s1(e){I.forEach(e.edges(),function(r){var n=e.edge(r);if(n.width&&n.height){var t=e.node(r.v),i=e.node(r.w),a={rank:(i.rank-t.rank)/2+t.rank,e:r};qe.addDummyNode(e,"edge-proxy",a,"_ep")}})}function u1(e){var r=0;I.forEach(e.nodes(),function(n){var t=e.node(n);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,r=I.max(r,t.maxRank))}),e.graph().maxRank=r}function c1(e){I.forEach(e.nodes(),function(r){var n=e.node(r);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(r))})}function l1(e){var r=Number.POSITIVE_INFINITY,n=0,t=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function u(l){var c=l.x,f=l.y,d=l.width,h=l.height;r=Math.min(r,c-d/2),n=Math.max(n,c+d/2),t=Math.min(t,f-h/2),i=Math.max(i,f+h/2)}I.forEach(e.nodes(),function(l){u(e.node(l))}),I.forEach(e.edges(),function(l){var c=e.edge(l);I.has(c,"x")&&u(c)}),r-=o,t-=s,I.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=r,c.y-=t}),I.forEach(e.edges(),function(l){var c=e.edge(l);I.forEach(c.points,function(f){f.x-=r,f.y-=t}),I.has(c,"x")&&(c.x-=r),I.has(c,"y")&&(c.y-=t)}),a.width=n-r+o,a.height=i-t+s}function f1(e){I.forEach(e.edges(),function(r){var n=e.edge(r),t=e.node(r.v),i=e.node(r.w),a,o;n.points?(a=n.points[0],o=n.points[n.points.length-1]):(n.points=[],a=i,o=t),n.points.unshift(qe.intersectRect(t,a)),n.points.push(qe.intersectRect(i,o))})}function d1(e){I.forEach(e.edges(),function(r){var n=e.edge(r);if(I.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function h1(e){I.forEach(e.edges(),function(r){var n=e.edge(r);n.reversed&&n.points.reverse()})}function p1(e){I.forEach(e.nodes(),function(r){if(e.children(r).length){var n=e.node(r),t=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(I.last(n.borderLeft)),o=e.node(I.last(n.borderRight));n.width=Math.abs(o.x-a.x),n.height=Math.abs(i.y-t.y),n.x=a.x+n.width/2,n.y=t.y+n.height/2}}),I.forEach(e.nodes(),function(r){e.node(r).dummy==="border"&&e.removeNode(r)})}function v1(e){I.forEach(e.edges(),function(r){if(r.v===r.w){var n=e.node(r.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:r,label:e.edge(r)}),e.removeEdge(r)}})}function g1(e){var r=qe.buildLayerMatrix(e);I.forEach(r,function(n){var t=0;I.forEach(n,function(i,a){var o=e.node(i);o.order=a+t,I.forEach(o.selfEdges,function(s){qe.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++t,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function m1(e){I.forEach(e.nodes(),function(r){var n=e.node(r);if(n.dummy==="selfedge"){var t=e.node(n.e.v),i=t.x+t.width/2,a=t.y,o=n.x-i,s=t.height/2;e.setEdge(n.e,n.label),e.removeNode(r),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}function ls(e,r){return I.mapValues(I.pick(e,r),Number)}function fs(e){var r={};return I.forEach(e,function(n,t){r[t.toLowerCase()]=n}),r}var Mr=M,y1=J,b1=ie.Graph,_1={debugOrdering:x1};function x1(e){var r=y1.buildLayerMatrix(e),n=new b1({compound:!0,multigraph:!0}).setGraph({});return Mr.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),Mr.forEach(e.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),Mr.forEach(r,function(t,i){var a="layer"+i;n.setNode(a,{rank:"same"}),Mr.reduce(t,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var w1="0.8.5",E1={graphlib:ie,layout:Wx,debug:_1,util:{time:J.time,notime:J.notime},version:w1};const Pr=Ng(E1);function S1(){const e=U.useCallback((i,a,o="TB")=>{const s=new Pr.graphlib.Graph;s.setDefaultEdgeLabel(()=>({}));const u=250,l=150;return s.setGraph({rankdir:o,align:"UL",nodesep:80,ranksep:120,marginx:50,marginy:50}),i.forEach(f=>{s.setNode(f.id,{width:u,height:l})}),a.forEach(f=>{s.setEdge(f.source,f.target)}),Pr.layout(s),i.map(f=>{const d=s.node(f.id);return{...f,position:{x:d.x-u/2,y:d.y-l/2}}})},[]),r=U.useCallback((i,a)=>{const o=new Map(i.map(c=>[c.id,{...c}])),s=50,u=100,l=.01;for(let c=0;c<s;c++)i.forEach(f=>{i.forEach(d=>{if(f.id!==d.id){const h=d.position.x-f.position.x,g=d.position.y-f.position.y,v=Math.sqrt(h*h+g*g);if(v>0){const m=u*u/v,b=h/v*m*l,y=g/v*m*l,w=o.get(f.id);w.position.x-=b,w.position.y-=y}}})}),a.forEach(f=>{const d=o.get(f.source),h=o.get(f.target);if(d&&h){const g=h.position.x-d.position.x,v=h.position.y-d.position.y,m=Math.sqrt(g*g+v*v);if(m>0){const b=m*m/u,y=g/m*b*.01,w=v/m*b*.01;d.position.x+=y,d.position.y+=w,h.position.x-=y,h.position.y-=w}}});return Array.from(o.values())},[]),n=U.useCallback((i,a)=>{const o=new Map;i.forEach(l=>{const c=l.data.domain||"general";o.has(c)||o.set(c,[]),o.get(c).push(l)});const s=new Map;let u=0;return o.forEach((l,c)=>{const d=e(l,a.filter(g=>{const v=l.find(b=>b.id===g.source),m=l.find(b=>b.id===g.target);return v&&m})).map(g=>({...g,position:{x:g.position.x+u,y:g.position.y}}));s.set(c,d),u=Math.max(...d.map(g=>g.position.x))+300}),Array.from(s.values()).flat()},[e]),t=U.useCallback((i,a)=>{const o=new Set;a.forEach(g=>{o.add(g.source),o.add(g.target)});const s=i.filter(g=>o.has(g.id)),u=i.filter(g=>!o.has(g.id)),l=250,c=150,f=120,d=100,h=[];if(s.length>0){const g=new Pr.graphlib.Graph;g.setDefaultEdgeLabel(()=>({})),g.setGraph({rankdir:"TB",align:"UL",nodesep:80,ranksep:120,marginx:50,marginy:50}),s.forEach(v=>{g.setNode(v.id,{width:l,height:c})}),a.forEach(v=>{o.has(v.source)&&o.has(v.target)&&g.setEdge(v.source,v.target)}),Pr.layout(g),s.forEach(v=>{const m=g.node(v.id);h.push({...v,position:{x:m.x-l/2,y:m.y-c/2}})})}if(u.length>0){const g=s.length>0?Math.max(...h.map(w=>w.position.x+l))+200:0,v=Math.ceil(Math.sqrt(u.length)),m=new Map;u.forEach(w=>{const S=w.data.domain||"general";m.has(S)||m.set(S,[]),m.get(S).push(w)});const b=Array.from(m.entries()).sort((w,S)=>S[1].length-w[1].length);let y=0;b.forEach(([,w])=>{w.forEach(S=>{const T=Math.floor(y/v),_=y%v;h.push({...S,position:{x:g+_*(l+f),y:T*(c+d)}}),y++})})}return h},[]);return{applyLayout:e,applyForceLayout:r,applyDomainLayout:n,applyGridLayout:t}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function bv(e){return typeof e>"u"||e===null}function A1(e){return typeof e=="object"&&e!==null}function C1(e){return Array.isArray(e)?e:bv(e)?[]:[e]}function q1(e,r){var n,t,i,a;if(r)for(a=Object.keys(r),n=0,t=a.length;n<t;n+=1)i=a[n],e[i]=r[i];return e}function R1(e,r){var n="",t;for(t=0;t<r;t+=1)n+=e;return n}function k1(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var T1=bv,I1=A1,j1=C1,O1=R1,L1=k1,N1=q1,$={isNothing:T1,isObject:I1,toArray:j1,repeat:O1,isNegativeZero:L1,extend:N1};function _v(e,r){var n="",t=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!r&&e.mark.snippet&&(n+=`

`+e.mark.snippet),t+" "+n):t}function wr(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=_v(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}wr.prototype=Object.create(Error.prototype);wr.prototype.constructor=wr;wr.prototype.toString=function(r){return this.name+": "+_v(this,r)};var K=wr;function ds(e,r,n,t,i){var a="",o="",s=Math.floor(i/2)-1;return t-r>s&&(a=" ... ",r=t-s+a.length),n-t>s&&(o=" ...",n=t+s-o.length),{str:a+e.slice(r,n).replace(/\t/g,"→")+o,pos:t-r+a.length}}function hs(e,r){return $.repeat(" ",r-e.length)+e}function F1(e,r){if(r=Object.create(r||null),!e.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var n=/\r?\n|\r|\0/g,t=[0],i=[],a,o=-1;a=n.exec(e.buffer);)i.push(a.index),t.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=t.length-2);o<0&&(o=t.length-1);var s="",u,l,c=Math.min(e.line+r.linesAfter,i.length).toString().length,f=r.maxLength-(r.indent+c+3);for(u=1;u<=r.linesBefore&&!(o-u<0);u++)l=ds(e.buffer,t[o-u],i[o-u],e.position-(t[o]-t[o-u]),f),s=$.repeat(" ",r.indent)+hs((e.line-u+1).toString(),c)+" | "+l.str+`
`+s;for(l=ds(e.buffer,t[o],i[o],e.position,f),s+=$.repeat(" ",r.indent)+hs((e.line+1).toString(),c)+" | "+l.str+`
`,s+=$.repeat("-",r.indent+c+3+l.pos)+`^
`,u=1;u<=r.linesAfter&&!(o+u>=i.length);u++)l=ds(e.buffer,t[o+u],i[o+u],e.position-(t[o]-t[o+u]),f),s+=$.repeat(" ",r.indent)+hs((e.line+u+1).toString(),c)+" | "+l.str+`
`;return s.replace(/\n$/,"")}var M1=F1,P1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],D1=["scalar","sequence","mapping"];function B1(e){var r={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(t){r[String(t)]=n})}),r}function G1(e,r){if(r=r||{},Object.keys(r).forEach(function(n){if(P1.indexOf(n)===-1)throw new K('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=r,this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(n){return n},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=B1(r.styleAliases||null),D1.indexOf(this.kind)===-1)throw new K('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var z=G1;function Ah(e,r){var n=[];return e[r].forEach(function(t){var i=n.length;n.forEach(function(a,o){a.tag===t.tag&&a.kind===t.kind&&a.multi===t.multi&&(i=o)}),n[i]=t}),n}function $1(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,n;function t(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(r=0,n=arguments.length;r<n;r+=1)arguments[r].forEach(t);return e}function qs(e){return this.extend(e)}qs.prototype.extend=function(r){var n=[],t=[];if(r instanceof z)t.push(r);else if(Array.isArray(r))t=t.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(n=n.concat(r.implicit)),r.explicit&&(t=t.concat(r.explicit));else throw new K("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof z))throw new K("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new K("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new K("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),t.forEach(function(a){if(!(a instanceof z))throw new K("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(qs.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(t),i.compiledImplicit=Ah(i,"implicit"),i.compiledExplicit=Ah(i,"explicit"),i.compiledTypeMap=$1(i.compiledImplicit,i.compiledExplicit),i};var xv=qs,wv=new z("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ev=new z("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Sv=new z("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Av=new xv({explicit:[wv,Ev,Sv]});function U1(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function H1(){return null}function V1(e){return e===null}var Cv=new z("tag:yaml.org,2002:null",{kind:"scalar",resolve:U1,construct:H1,predicate:V1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function z1(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function W1(e){return e==="true"||e==="True"||e==="TRUE"}function K1(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var qv=new z("tag:yaml.org,2002:bool",{kind:"scalar",resolve:z1,construct:W1,predicate:K1,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Y1(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function X1(e){return 48<=e&&e<=55}function Q1(e){return 48<=e&&e<=57}function J1(e){if(e===null)return!1;var r=e.length,n=0,t=!1,i;if(!r)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===r)return!0;if(i=e[++n],i==="b"){for(n++;n<r;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;t=!0}return t&&i!=="_"}if(i==="x"){for(n++;n<r;n++)if(i=e[n],i!=="_"){if(!Y1(e.charCodeAt(n)))return!1;t=!0}return t&&i!=="_"}if(i==="o"){for(n++;n<r;n++)if(i=e[n],i!=="_"){if(!X1(e.charCodeAt(n)))return!1;t=!0}return t&&i!=="_"}}if(i==="_")return!1;for(;n<r;n++)if(i=e[n],i!=="_"){if(!Q1(e.charCodeAt(n)))return!1;t=!0}return!(!t||i==="_")}function Z1(e){var r=e,n=1,t;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),t=r[0],(t==="-"||t==="+")&&(t==="-"&&(n=-1),r=r.slice(1),t=r[0]),r==="0")return 0;if(t==="0"){if(r[1]==="b")return n*parseInt(r.slice(2),2);if(r[1]==="x")return n*parseInt(r.slice(2),16);if(r[1]==="o")return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)}function ew(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!$.isNegativeZero(e)}var Rv=new z("tag:yaml.org,2002:int",{kind:"scalar",resolve:J1,construct:Z1,predicate:ew,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),rw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function nw(e){return!(e===null||!rw.test(e)||e[e.length-1]==="_")}function tw(e){var r,n;return r=e.replace(/_/g,"").toLowerCase(),n=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:n*parseFloat(r,10)}var iw=/^[-+]?[0-9]+e/;function aw(e,r){var n;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if($.isNegativeZero(e))return"-0.0";return n=e.toString(10),iw.test(n)?n.replace("e",".e"):n}function ow(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||$.isNegativeZero(e))}var kv=new z("tag:yaml.org,2002:float",{kind:"scalar",resolve:nw,construct:tw,predicate:ow,represent:aw,defaultStyle:"lowercase"}),Tv=Av.extend({implicit:[Cv,qv,Rv,kv]}),Iv=Tv,jv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ov=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sw(e){return e===null?!1:jv.exec(e)!==null||Ov.exec(e)!==null}function uw(e){var r,n,t,i,a,o,s,u=0,l=null,c,f,d;if(r=jv.exec(e),r===null&&(r=Ov.exec(e)),r===null)throw new Error("Date resolve error");if(n=+r[1],t=+r[2]-1,i=+r[3],!r[4])return new Date(Date.UTC(n,t,i));if(a=+r[4],o=+r[5],s=+r[6],r[7]){for(u=r[7].slice(0,3);u.length<3;)u+="0";u=+u}return r[9]&&(c=+r[10],f=+(r[11]||0),l=(c*60+f)*6e4,r[9]==="-"&&(l=-l)),d=new Date(Date.UTC(n,t,i,a,o,s,u)),l&&d.setTime(d.getTime()-l),d}function cw(e){return e.toISOString()}var Lv=new z("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sw,construct:uw,instanceOf:Date,represent:cw});function lw(e){return e==="<<"||e===null}var Nv=new z("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lw}),Zs=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function fw(e){if(e===null)return!1;var r,n,t=0,i=e.length,a=Zs;for(n=0;n<i;n++)if(r=a.indexOf(e.charAt(n)),!(r>64)){if(r<0)return!1;t+=6}return t%8===0}function dw(e){var r,n,t=e.replace(/[\r\n=]/g,""),i=t.length,a=Zs,o=0,s=[];for(r=0;r<i;r++)r%4===0&&r&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(t.charAt(r));return n=i%4*6,n===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):n===18?(s.push(o>>10&255),s.push(o>>2&255)):n===12&&s.push(o>>4&255),new Uint8Array(s)}function hw(e){var r="",n=0,t,i,a=e.length,o=Zs;for(t=0;t<a;t++)t%3===0&&t&&(r+=o[n>>18&63],r+=o[n>>12&63],r+=o[n>>6&63],r+=o[n&63]),n=(n<<8)+e[t];return i=a%3,i===0?(r+=o[n>>18&63],r+=o[n>>12&63],r+=o[n>>6&63],r+=o[n&63]):i===2?(r+=o[n>>10&63],r+=o[n>>4&63],r+=o[n<<2&63],r+=o[64]):i===1&&(r+=o[n>>2&63],r+=o[n<<4&63],r+=o[64],r+=o[64]),r}function pw(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Fv=new z("tag:yaml.org,2002:binary",{kind:"scalar",resolve:fw,construct:dw,predicate:pw,represent:hw}),vw=Object.prototype.hasOwnProperty,gw=Object.prototype.toString;function mw(e){if(e===null)return!0;var r=[],n,t,i,a,o,s=e;for(n=0,t=s.length;n<t;n+=1){if(i=s[n],o=!1,gw.call(i)!=="[object Object]")return!1;for(a in i)if(vw.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(r.indexOf(a)===-1)r.push(a);else return!1}return!0}function yw(e){return e!==null?e:[]}var Mv=new z("tag:yaml.org,2002:omap",{kind:"sequence",resolve:mw,construct:yw}),bw=Object.prototype.toString;function _w(e){if(e===null)return!0;var r,n,t,i,a,o=e;for(a=new Array(o.length),r=0,n=o.length;r<n;r+=1){if(t=o[r],bw.call(t)!=="[object Object]"||(i=Object.keys(t),i.length!==1))return!1;a[r]=[i[0],t[i[0]]]}return!0}function xw(e){if(e===null)return[];var r,n,t,i,a,o=e;for(a=new Array(o.length),r=0,n=o.length;r<n;r+=1)t=o[r],i=Object.keys(t),a[r]=[i[0],t[i[0]]];return a}var Pv=new z("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_w,construct:xw}),ww=Object.prototype.hasOwnProperty;function Ew(e){if(e===null)return!0;var r,n=e;for(r in n)if(ww.call(n,r)&&n[r]!==null)return!1;return!0}function Sw(e){return e!==null?e:{}}var Dv=new z("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ew,construct:Sw}),eu=Iv.extend({implicit:[Lv,Nv],explicit:[Fv,Mv,Pv,Dv]}),Re=Object.prototype.hasOwnProperty,Ur=1,Bv=2,Gv=3,Hr=4,ps=1,Aw=2,Ch=3,Cw=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qw=/[\x85\u2028\u2029]/,Rw=/[,\[\]\{\}]/,$v=/^(?:!|!!|![a-z\-]+!)$/i,Uv=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function qh(e){return Object.prototype.toString.call(e)}function ue(e){return e===10||e===13}function Fe(e){return e===9||e===32}function X(e){return e===9||e===32||e===10||e===13}function Ze(e){return e===44||e===91||e===93||e===123||e===125}function kw(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function Tw(e){return e===120?2:e===117?4:e===85?8:0}function Iw(e){return 48<=e&&e<=57?e-48:-1}function Rh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function jw(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Hv=new Array(256),Vv=new Array(256);for(var Ke=0;Ke<256;Ke++)Hv[Ke]=Rh(Ke)?1:0,Vv[Ke]=Rh(Ke);function Ow(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||eu,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function zv(e,r){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=M1(n),new K(r,n)}function q(e,r){throw zv(e,r)}function Vr(e,r){e.onWarning&&e.onWarning.call(null,zv(e,r))}var kh={YAML:function(r,n,t){var i,a,o;r.version!==null&&q(r,"duplication of %YAML directive"),t.length!==1&&q(r,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(t[0]),i===null&&q(r,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&q(r,"unacceptable YAML version of the document"),r.version=t[0],r.checkLineBreaks=o<2,o!==1&&o!==2&&Vr(r,"unsupported YAML version of the document")},TAG:function(r,n,t){var i,a;t.length!==2&&q(r,"TAG directive accepts exactly two arguments"),i=t[0],a=t[1],$v.test(i)||q(r,"ill-formed tag handle (first argument) of the TAG directive"),Re.call(r.tagMap,i)&&q(r,'there is a previously declared suffix for "'+i+'" tag handle'),Uv.test(a)||q(r,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{q(r,"tag prefix is malformed: "+a)}r.tagMap[i]=a}};function Ae(e,r,n,t){var i,a,o,s;if(r<n){if(s=e.input.slice(r,n),t)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||q(e,"expected valid JSON character");else Cw.test(s)&&q(e,"the stream contains non-printable characters");e.result+=s}}function Th(e,r,n,t){var i,a,o,s;for($.isObject(n)||q(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,s=i.length;o<s;o+=1)a=i[o],Re.call(r,a)||(r[a]=n[a],t[a]=!0)}function er(e,r,n,t,i,a,o,s,u){var l,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,c=i.length;l<c;l+=1)Array.isArray(i[l])&&q(e,"nested arrays are not supported inside keys"),typeof i=="object"&&qh(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&qh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),r===null&&(r={}),t==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(l=0,c=a.length;l<c;l+=1)Th(e,r,a[l],n);else Th(e,r,a,n);else!e.json&&!Re.call(n,i)&&Re.call(r,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,q(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(r,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):r[i]=a,delete n[i];return r}function ru(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):q(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function P(e,r,n){for(var t=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Fe(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(r&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ue(i))for(ru(e),i=e.input.charCodeAt(e.position),t++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&t!==0&&e.lineIndent<n&&Vr(e,"deficient indentation"),t}function gn(e){var r=e.position,n;return n=e.input.charCodeAt(r),!!((n===45||n===46)&&n===e.input.charCodeAt(r+1)&&n===e.input.charCodeAt(r+2)&&(r+=3,n=e.input.charCodeAt(r),n===0||X(n)))}function nu(e,r){r===1?e.result+=" ":r>1&&(e.result+=$.repeat(`
`,r-1))}function Lw(e,r,n){var t,i,a,o,s,u,l,c,f=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),X(h)||Ze(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),X(i)||n&&Ze(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),X(i)||n&&Ze(i))break}else if(h===35){if(t=e.input.charCodeAt(e.position-1),X(t))break}else{if(e.position===e.lineStart&&gn(e)||n&&Ze(h))break;if(ue(h))if(u=e.line,l=e.lineStart,c=e.lineIndent,P(e,!1,-1),e.lineIndent>=r){s=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=c;break}}s&&(Ae(e,a,o,!1),nu(e,e.line-u),a=o=e.position,s=!1),Fe(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return Ae(e,a,o,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function Nw(e,r){var n,t,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,t=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Ae(e,t,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)t=e.position,e.position++,i=e.position;else return!0;else ue(n)?(Ae(e,t,i,!0),nu(e,P(e,!1,r)),t=i=e.position):e.position===e.lineStart&&gn(e)?q(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);q(e,"unexpected end of the stream within a single quoted scalar")}function Fw(e,r){var n,t,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=t=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Ae(e,n,e.position,!0),e.position++,!0;if(s===92){if(Ae(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),ue(s))P(e,!1,r);else if(s<256&&Hv[s])e.result+=Vv[s],e.position++;else if((o=Tw(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=kw(s))>=0?a=(a<<4)+o:q(e,"expected hexadecimal character");e.result+=jw(a),e.position++}else q(e,"unknown escape sequence");n=t=e.position}else ue(s)?(Ae(e,n,t,!0),nu(e,P(e,!1,r)),n=t=e.position):e.position===e.lineStart&&gn(e)?q(e,"unexpected end of the document within a double quoted scalar"):(e.position++,t=e.position)}q(e,"unexpected end of the stream within a double quoted scalar")}function Mw(e,r){var n=!0,t,i,a,o=e.tag,s,u=e.anchor,l,c,f,d,h,g=Object.create(null),v,m,b,y;if(y=e.input.charCodeAt(e.position),y===91)c=93,h=!1,s=[];else if(y===123)c=125,h=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),y=e.input.charCodeAt(++e.position);y!==0;){if(P(e,!0,r),y=e.input.charCodeAt(e.position),y===c)return e.position++,e.tag=o,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=s,!0;n?y===44&&q(e,"expected the node content, but found ','"):q(e,"missed comma between flow collection entries"),m=v=b=null,f=d=!1,y===63&&(l=e.input.charCodeAt(e.position+1),X(l)&&(f=d=!0,e.position++,P(e,!0,r))),t=e.line,i=e.lineStart,a=e.position,nr(e,r,Ur,!1,!0),m=e.tag,v=e.result,P(e,!0,r),y=e.input.charCodeAt(e.position),(d||e.line===t)&&y===58&&(f=!0,y=e.input.charCodeAt(++e.position),P(e,!0,r),nr(e,r,Ur,!1,!0),b=e.result),h?er(e,s,g,m,v,b,t,i,a):f?s.push(er(e,null,g,m,v,b,t,i,a)):s.push(v),P(e,!0,r),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}q(e,"unexpected end of the stream within a flow collection")}function Pw(e,r){var n,t,i=ps,a=!1,o=!1,s=r,u=0,l=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)t=!1;else if(f===62)t=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)ps===i?i=f===43?Ch:Aw:q(e,"repeat of a chomping mode identifier");else if((c=Iw(f))>=0)c===0?q(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?q(e,"repeat of an indentation width identifier"):(s=r+c-1,o=!0);else break;if(Fe(f)){do f=e.input.charCodeAt(++e.position);while(Fe(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!ue(f)&&f!==0)}for(;f!==0;){for(ru(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),ue(f)){u++;continue}if(e.lineIndent<s){i===Ch?e.result+=$.repeat(`
`,a?1+u:u):i===ps&&a&&(e.result+=`
`);break}for(t?Fe(f)?(l=!0,e.result+=$.repeat(`
`,a?1+u:u)):l?(l=!1,e.result+=$.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=$.repeat(`
`,u):e.result+=$.repeat(`
`,a?1+u:u),a=!0,o=!0,u=0,n=e.position;!ue(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Ae(e,n,e.position,!1)}return!0}function Ih(e,r){var n,t=e.tag,i=e.anchor,a=[],o,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,q(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!X(o))));){if(s=!0,e.position++,P(e,!0,-1)&&e.lineIndent<=r){a.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,nr(e,r,Gv,!1,!0),a.push(e.result),P(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>r)&&u!==0)q(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return s?(e.tag=t,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function Dw(e,r,n){var t,i,a,o,s,u,l=e.tag,c=e.anchor,f={},d=Object.create(null),h=null,g=null,v=null,m=!1,b=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),y=e.input.charCodeAt(e.position);y!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,q(e,"tab characters must not be used in indentation")),t=e.input.charCodeAt(e.position+1),a=e.line,(y===63||y===58)&&X(t))y===63?(m&&(er(e,f,d,h,g,null,o,s,u),h=g=v=null),b=!0,m=!0,i=!0):m?(m=!1,i=!0):q(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=t;else{if(o=e.line,s=e.lineStart,u=e.position,!nr(e,n,Bv,!1,!0))break;if(e.line===a){for(y=e.input.charCodeAt(e.position);Fe(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),X(y)||q(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(er(e,f,d,h,g,null,o,s,u),h=g=v=null),b=!0,m=!1,i=!1,h=e.tag,g=e.result;else if(b)q(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=c,!0}else if(b)q(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=c,!0}if((e.line===a||e.lineIndent>r)&&(m&&(o=e.line,s=e.lineStart,u=e.position),nr(e,r,Hr,!0,i)&&(m?g=e.result:v=e.result),m||(er(e,f,d,h,g,v,o,s,u),h=g=v=null),P(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>r)&&y!==0)q(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return m&&er(e,f,d,h,g,null,o,s,u),b&&(e.tag=l,e.anchor=c,e.kind="mapping",e.result=f),b}function Bw(e){var r,n=!1,t=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&q(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(t=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",r=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(r,e.position),o=e.input.charCodeAt(++e.position)):q(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!X(o);)o===33&&(t?q(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(r-1,e.position+1),$v.test(i)||q(e,"named tag handle cannot contain such characters"),t=!0,r=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(r,e.position),Rw.test(a)&&q(e,"tag suffix cannot contain flow indicator characters")}a&&!Uv.test(a)&&q(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{q(e,"tag name is malformed: "+a)}return n?e.tag=a:Re.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:q(e,'undeclared tag handle "'+i+'"'),!0}function Gw(e){var r,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&q(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!X(n)&&!Ze(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&q(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function $w(e){var r,n,t;if(t=e.input.charCodeAt(e.position),t!==42)return!1;for(t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!X(t)&&!Ze(t);)t=e.input.charCodeAt(++e.position);return e.position===r&&q(e,"name of an alias node must contain at least one character"),n=e.input.slice(r,e.position),Re.call(e.anchorMap,n)||q(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],P(e,!0,-1),!0}function nr(e,r,n,t,i){var a,o,s,u=1,l=!1,c=!1,f,d,h,g,v,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=Hr===n||Gv===n,t&&P(e,!0,-1)&&(l=!0,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)),u===1)for(;Bw(e)||Gw(e);)P(e,!0,-1)?(l=!0,s=a,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)):s=!1;if(s&&(s=l||i),(u===1||Hr===n)&&(Ur===n||Bv===n?v=r:v=r+1,m=e.position-e.lineStart,u===1?s&&(Ih(e,m)||Dw(e,m,v))||Mw(e,v)?c=!0:(o&&Pw(e,v)||Nw(e,v)||Fw(e,v)?c=!0:$w(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&q(e,"alias node should not have any properties")):Lw(e,v,Ur===n)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(c=s&&Ih(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&q(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Re.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,h=e.typeMap.multi[e.kind||"fallback"],f=0,d=h.length;f<d;f+=1)if(e.tag.slice(0,h[f].tag.length)===h[f].tag){g=h[f];break}g||q(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&q(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):q(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function Uw(e){var r=e.position,n,t,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(P(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!X(o);)o=e.input.charCodeAt(++e.position);for(t=e.input.slice(n,e.position),i=[],t.length<1&&q(e,"directive name must not be less than one character in length");o!==0;){for(;Fe(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ue(o));break}if(ue(o))break;for(n=e.position;o!==0&&!X(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}o!==0&&ru(e),Re.call(kh,t)?kh[t](e,t,i):Vr(e,'unknown document directive "'+t+'"')}if(P(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,P(e,!0,-1)):a&&q(e,"directives end mark is expected"),nr(e,e.lineIndent-1,Hr,!1,!0),P(e,!0,-1),e.checkLineBreaks&&qw.test(e.input.slice(r,e.position))&&Vr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&gn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,P(e,!0,-1));return}if(e.position<e.length-1)q(e,"end of the stream or a document separator is expected");else return}function Wv(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Ow(e,r),t=e.indexOf("\0");for(t!==-1&&(n.position=t,q(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Uw(n);return n.documents}function Hw(e,r,n){r!==null&&typeof r=="object"&&typeof n>"u"&&(n=r,r=null);var t=Wv(e,n);if(typeof r!="function")return t;for(var i=0,a=t.length;i<a;i+=1)r(t[i])}function Vw(e,r){var n=Wv(e,r);if(n.length!==0){if(n.length===1)return n[0];throw new K("expected a single document in the stream, but found more")}}var zw=Hw,Ww=Vw,Kv={loadAll:zw,load:Ww},Yv=Object.prototype.toString,Xv=Object.prototype.hasOwnProperty,tu=65279,Kw=9,Er=10,Yw=13,Xw=32,Qw=33,Jw=34,Rs=35,Zw=37,eE=38,rE=39,nE=42,Qv=44,tE=45,zr=58,iE=61,aE=62,oE=63,sE=64,Jv=91,Zv=93,uE=96,eg=123,cE=124,rg=125,W={};W[0]="\\0";W[7]="\\a";W[8]="\\b";W[9]="\\t";W[10]="\\n";W[11]="\\v";W[12]="\\f";W[13]="\\r";W[27]="\\e";W[34]='\\"';W[92]="\\\\";W[133]="\\N";W[160]="\\_";W[8232]="\\L";W[8233]="\\P";var lE=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],fE=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function dE(e,r){var n,t,i,a,o,s,u;if(r===null)return{};for(n={},t=Object.keys(r),i=0,a=t.length;i<a;i+=1)o=t[i],s=String(r[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&Xv.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[o]=s;return n}function hE(e){var r,n,t;if(r=e.toString(16).toUpperCase(),e<=255)n="x",t=2;else if(e<=65535)n="u",t=4;else if(e<=4294967295)n="U",t=8;else throw new K("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+$.repeat("0",t-r.length)+r}var pE=1,Sr=2;function vE(e){this.schema=e.schema||eu,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=$.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=dE(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Sr:pE,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function jh(e,r){for(var n=$.repeat(" ",r),t=0,i=-1,a="",o,s=e.length;t<s;)i=e.indexOf(`
`,t),i===-1?(o=e.slice(t),t=s):(o=e.slice(t,i+1),t=i+1),o.length&&o!==`
`&&(a+=n),a+=o;return a}function ks(e,r){return`
`+$.repeat(" ",e.indent*r)}function gE(e,r){var n,t,i;for(n=0,t=e.implicitTypes.length;n<t;n+=1)if(i=e.implicitTypes[n],i.resolve(r))return!0;return!1}function Wr(e){return e===Xw||e===Kw}function Ar(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==tu||65536<=e&&e<=1114111}function Oh(e){return Ar(e)&&e!==tu&&e!==Yw&&e!==Er}function Lh(e,r,n){var t=Oh(e),i=t&&!Wr(e);return(n?t:t&&e!==Qv&&e!==Jv&&e!==Zv&&e!==eg&&e!==rg)&&e!==Rs&&!(r===zr&&!i)||Oh(r)&&!Wr(r)&&e===Rs||r===zr&&i}function mE(e){return Ar(e)&&e!==tu&&!Wr(e)&&e!==tE&&e!==oE&&e!==zr&&e!==Qv&&e!==Jv&&e!==Zv&&e!==eg&&e!==rg&&e!==Rs&&e!==eE&&e!==nE&&e!==Qw&&e!==cE&&e!==iE&&e!==aE&&e!==rE&&e!==Jw&&e!==Zw&&e!==sE&&e!==uE}function yE(e){return!Wr(e)&&e!==zr}function _r(e,r){var n=e.charCodeAt(r),t;return n>=55296&&n<=56319&&r+1<e.length&&(t=e.charCodeAt(r+1),t>=56320&&t<=57343)?(n-55296)*1024+t-56320+65536:n}function ng(e){var r=/^\n* /;return r.test(e)}var tg=1,Ts=2,ig=3,ag=4,Qe=5;function bE(e,r,n,t,i,a,o,s){var u,l=0,c=null,f=!1,d=!1,h=t!==-1,g=-1,v=mE(_r(e,0))&&yE(_r(e,e.length-1));if(r||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=_r(e,u),!Ar(l))return Qe;v=v&&Lh(l,c,s),c=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=_r(e,u),l===Er)f=!0,h&&(d=d||u-g-1>t&&e[g+1]!==" ",g=u);else if(!Ar(l))return Qe;v=v&&Lh(l,c,s),c=l}d=d||h&&u-g-1>t&&e[g+1]!==" "}return!f&&!d?v&&!o&&!i(e)?tg:a===Sr?Qe:Ts:n>9&&ng(e)?Qe:o?a===Sr?Qe:Ts:d?ag:ig}function _E(e,r,n,t,i){e.dump=function(){if(r.length===0)return e.quotingType===Sr?'""':"''";if(!e.noCompatMode&&(lE.indexOf(r)!==-1||fE.test(r)))return e.quotingType===Sr?'"'+r+'"':"'"+r+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),s=t||e.flowLevel>-1&&n>=e.flowLevel;function u(l){return gE(e,l)}switch(bE(r,s,e.indent,o,u,e.quotingType,e.forceQuotes&&!t,i)){case tg:return r;case Ts:return"'"+r.replace(/'/g,"''")+"'";case ig:return"|"+Nh(r,e.indent)+Fh(jh(r,a));case ag:return">"+Nh(r,e.indent)+Fh(jh(xE(r,o),a));case Qe:return'"'+wE(r)+'"';default:throw new K("impossible error: invalid scalar style")}}()}function Nh(e,r){var n=ng(e)?String(r):"",t=e[e.length-1]===`
`,i=t&&(e[e.length-2]===`
`||e===`
`),a=i?"+":t?"":"-";return n+a+`
`}function Fh(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function xE(e,r){for(var n=/(\n+)([^\n]*)/g,t=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,n.lastIndex=l,Mh(e.slice(0,l),r)}(),i=e[0]===`
`||e[0]===" ",a,o;o=n.exec(e);){var s=o[1],u=o[2];a=u[0]===" ",t+=s+(!i&&!a&&u!==""?`
`:"")+Mh(u,r),i=a}return t}function Mh(e,r){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,t,i=0,a,o=0,s=0,u="";t=n.exec(e);)s=t.index,s-i>r&&(a=o>i?o:s,u+=`
`+e.slice(i,a),i=a+1),o=s;return u+=`
`,e.length-i>r&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function wE(e){for(var r="",n=0,t,i=0;i<e.length;n>=65536?i+=2:i++)n=_r(e,i),t=W[n],!t&&Ar(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||hE(n);return r}function EE(e,r,n){var t="",i=e.tag,a,o,s;for(a=0,o=n.length;a<o;a+=1)s=n[a],e.replacer&&(s=e.replacer.call(n,String(a),s)),(ge(e,r,s,!1,!1)||typeof s>"u"&&ge(e,r,null,!1,!1))&&(t!==""&&(t+=","+(e.condenseFlow?"":" ")),t+=e.dump);e.tag=i,e.dump="["+t+"]"}function Ph(e,r,n,t){var i="",a=e.tag,o,s,u;for(o=0,s=n.length;o<s;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(ge(e,r+1,u,!0,!0,!1,!0)||typeof u>"u"&&ge(e,r+1,null,!0,!0,!1,!0))&&((!t||i!=="")&&(i+=ks(e,r)),e.dump&&Er===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function SE(e,r,n){var t="",i=e.tag,a=Object.keys(n),o,s,u,l,c;for(o=0,s=a.length;o<s;o+=1)c="",t!==""&&(c+=", "),e.condenseFlow&&(c+='"'),u=a[o],l=n[u],e.replacer&&(l=e.replacer.call(n,u,l)),ge(e,r,u,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ge(e,r,l,!1,!1)&&(c+=e.dump,t+=c));e.tag=i,e.dump="{"+t+"}"}function AE(e,r,n,t){var i="",a=e.tag,o=Object.keys(n),s,u,l,c,f,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new K("sortKeys must be a boolean or a function");for(s=0,u=o.length;s<u;s+=1)d="",(!t||i!=="")&&(d+=ks(e,r)),l=o[s],c=n[l],e.replacer&&(c=e.replacer.call(n,l,c)),ge(e,r+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Er===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=ks(e,r)),ge(e,r+1,c,!0,f)&&(e.dump&&Er===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=a,e.dump=i||"{}"}function Dh(e,r,n){var t,i,a,o,s,u;for(i=n?e.explicitTypes:e.implicitTypes,a=0,o=i.length;a<o;a+=1)if(s=i[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof r=="object"&&r instanceof s.instanceOf)&&(!s.predicate||s.predicate(r))){if(n?s.multi&&s.representName?e.tag=s.representName(r):e.tag=s.tag:e.tag="?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,Yv.call(s.represent)==="[object Function]")t=s.represent(r,u);else if(Xv.call(s.represent,u))t=s.represent[u](r,u);else throw new K("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');e.dump=t}return!0}return!1}function ge(e,r,n,t,i,a,o){e.tag=null,e.dump=n,Dh(e,n,!1)||Dh(e,n,!0);var s=Yv.call(e.dump),u=t,l;t&&(t=e.flowLevel<0||e.flowLevel>r);var c=s==="[object Object]"||s==="[object Array]",f,d;if(c&&(f=e.duplicates.indexOf(n),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&r>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),s==="[object Object]")t&&Object.keys(e.dump).length!==0?(AE(e,r,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(SE(e,r,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(s==="[object Array]")t&&e.dump.length!==0?(e.noArrayIndent&&!o&&r>0?Ph(e,r-1,e.dump,i):Ph(e,r,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(EE(e,r,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&_E(e,e.dump,r,a,u);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new K("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function CE(e,r){var n=[],t=[],i,a;for(Is(e,n,t),i=0,a=t.length;i<a;i+=1)r.duplicates.push(n[t[i]]);r.usedDuplicates=new Array(a)}function Is(e,r,n){var t,i,a;if(e!==null&&typeof e=="object")if(i=r.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(r.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Is(e[i],r,n);else for(t=Object.keys(e),i=0,a=t.length;i<a;i+=1)Is(e[t[i]],r,n)}function qE(e,r){r=r||{};var n=new vE(r);n.noRefs||CE(e,n);var t=e;return n.replacer&&(t=n.replacer.call({"":t},"",t)),ge(n,0,t,!0,!0)?n.dump+`
`:""}var RE=qE,kE={dump:RE};function iu(e,r){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var TE=z,IE=xv,jE=Av,OE=Tv,LE=Iv,NE=eu,FE=Kv.load,ME=Kv.loadAll,PE=kE.dump,DE=K,BE={binary:Fv,float:kv,map:Sv,null:Cv,pairs:Pv,set:Dv,timestamp:Lv,bool:qv,int:Rv,merge:Nv,omap:Mv,seq:Ev,str:wv},GE=iu("safeLoad","load"),$E=iu("safeLoadAll","loadAll"),UE=iu("safeDump","dump"),Bh={Type:TE,Schema:IE,FAILSAFE_SCHEMA:jE,JSON_SCHEMA:OE,CORE_SCHEMA:LE,DEFAULT_SCHEMA:NE,load:FE,loadAll:ME,dump:PE,YAMLException:DE,types:BE,safeLoad:GE,safeLoadAll:$E,safeDump:UE};function HE(e,r){var c,f;const n=[],t=[],i=new Map,a=new Map,o=d=>{a.has(d)||a.set(d,{incoming:0,outgoing:0})},s=(d,h)=>{o(d);const g=a.get(d);if(h){const v=g.outgoing%3===0?"bottom":g.outgoing%3===1?"right-out":"left-out";return g.outgoing++,v}else{const v=g.incoming%3===0?"top":g.incoming%3===1?"left":"right";return g.incoming++,v}},u=new Set(["Table","Any","AttributeValue","NamedEntity","IdentifiedEntity","AttributeValueEntity"]);Object.entries(e.classes).forEach(([d,h])=>{if(u.has(d))return;const g=Am(h,d),v=VE(h,e),m={id:d,type:"default",position:{x:0,y:0},data:{label:d,description:h.description,type:g,domain:zE(d),isExpanded:!1,attributes:v,isRelationship:h.represents_relationship,parentClass:h.is_a}};n.push(m),i.set(d,m)}),Object.entries(e.classes).forEach(([d,h])=>{var g,v,m,b;if(!u.has(d)){if(h.is_a&&i.has(h.is_a)&&!u.has(h.is_a)&&t.push({id:`${d}-inherits-${h.is_a}`,source:d,target:h.is_a,sourceHandle:s(d,!0),targetHandle:s(h.is_a,!1),type:"straight",animated:!1,data:{label:"is_a",cardinality:"one-to-one"}}),h.represents_relationship&&h.slots){const y=h.slots.filter(w=>w.endsWith("_id"));if(y.length>=2){const w=vs(e,y[0]),S=vs(e,y[1]);if(w&&S){h.slots.filter(_=>!_.endsWith("_id")).length===0||h.attributes&&Object.keys(h.attributes).length;{const _=(v=(g=h.slot_usage)==null?void 0:g[y[0]])==null?void 0:v.multivalued,x=(b=(m=h.slot_usage)==null?void 0:m[y[1]])==null?void 0:b.multivalued;let C="one-to-one";_&&x?C="many-to-many":(_||x)&&(C="one-to-many"),t.push({id:`${w}-${d}-${S}`,source:w,target:S,sourceHandle:s(w,!0),targetHandle:s(S,!1),type:"straight",animated:!1,data:{label:d,cardinality:C}})}}}}h.slots&&!h.represents_relationship&&h.slots.forEach(y=>{var w;if(y.endsWith("_id")&&!y.includes("self")){const S=vs(e,y);if(S&&S!==d){const T=(w=h.slot_usage)==null?void 0:w[y],_=e.slots[y],x=(T==null?void 0:T.multivalued)||(_==null?void 0:_.multivalued);t.push({id:`${d}-${y}-${S}`,source:d,target:S,sourceHandle:s(d,!0),targetHandle:s(S,!1),type:"straight",animated:!1,data:{label:y.replace("_id",""),cardinality:x?"one-to-many":"one-to-one"}})}}})}});const l=Array.from(new Set(n.map(d=>d.data.domain).filter(Boolean)));return{nodes:n,edges:t,metadata:{entityCount:n.length,relationshipCount:t.length,domains:l,lastUpdated:new Date,source:(c=e.metadata)==null?void 0:c.source,commit:(f=e.metadata)==null?void 0:f.commit}}}function VE(e,r){const n=[];return e.slots&&e.slots.forEach(t=>{var o;const i=r.slots[t],a=(o=e.slot_usage)==null?void 0:o[t];i&&n.push({name:t,type:(a==null?void 0:a.range)||i.range||"string",required:(a==null?void 0:a.required)||i.required||!1,isIdentifier:(a==null?void 0:a.identifier)||i.identifier,isMultivalued:(a==null?void 0:a.multivalued)||i.multivalued,description:(a==null?void 0:a.description)||i.description})}),e.attributes&&Object.entries(e.attributes).forEach(([t,i])=>{n.push({name:t,type:i.range||"string",required:i.required||!1,isMultivalued:i.multivalued,description:i.description})}),n}function zE(e,r){const n=e.toLowerCase();return["contig","feature","protein","sequence"].some(t=>n.includes(t))?"genomics":["sample","environmental","gold","mixs"].some(t=>n.includes(t))?"environmental":["experiment","protocol","event"].some(t=>n.includes(t))?"experimental":["contributor","publication","project","datasource"].some(t=>n.includes(t))?"metadata":["cluster","association","measurement"].some(t=>n.includes(t))?"analysis":"general"}function vs(e,r){var a,o,s;const n=r.replace("_id",""),t=n.charAt(0).toUpperCase()+n.slice(1);if(e.classes[t])return t;const i=[n,t,n.toUpperCase(),n==="contig_collection"?"ContigCollection":null,n==="encoded_feature"?"EncodedFeature":null].filter(Boolean);for(const u of i)if(u&&e.classes[u])return u;for(const[u,l]of Object.entries(e.classes))if((a=l.slots)!=null&&a.includes(r)){const c=(o=l.slot_usage)==null?void 0:o[r];if(c!=null&&c.identifier||(s=e.slots[r])!=null&&s.identifier)return u}return null}const og="kbase/cdm-schema",WE="main",KE=`https://raw.githubusercontent.com/${og}/${WE}`,YE=`https://api.github.com/repos/${og}`,Gh=["cdm_schema.yaml","cdm_base.yaml","cdm_components.yaml","cdm_enums.yaml","cdm_types.yaml","cdm_attr_value.yaml","cdm_links.yaml","cdm_ontology.yaml"];function sg(){const{loadSchema:e,setGraph:r,setLoading:n,setError:t}=Me(),i=U.useCallback(async()=>{try{const u=await fetch(`${YE}/commits?path=src/linkml&per_page=1`);if(!u.ok)throw new Error("Failed to fetch repository metadata");const c=(await u.json())[0];return{version:"latest",lastUpdated:c.commit.committer.date,commit:c.sha.substring(0,7),source:"remote"}}catch(u){return console.warn("Failed to fetch schema metadata, using fallback:",u),{version:"0.0.1",lastUpdated:new Date().toISOString(),commit:"unknown",source:"fallback"}}},[]),a=U.useCallback(async()=>{const u=await i(),l=Gh.map(d=>`${KE}/src/linkml/${d}`);console.log("Loading schema from GitHub:",l);const f=(await Promise.all(l.map(async d=>{const h=await fetch(d);return h.ok?h.text():(console.warn(`Failed to fetch ${d}, skipping...`),null)}))).filter(d=>d!==null).map(d=>Bh.load(d)).filter(d=>d!==null);if(f.length===0)throw new Error("No schema files could be loaded from GitHub");return console.log(`Successfully loaded ${f.length}/${Gh.length} schema files`),{schemas:f,metadata:u}},[i]),o=U.useCallback(async()=>{console.log("Loading schema from local fallback files...");const u="/cdm_schema_viewer/",l=[`${u}cdm-schema/src/linkml/cdm_schema.yaml`,`${u}cdm-schema/src/linkml/cdm_components.yaml`,`${u}cdm-schema/src/linkml/cdm_base.yaml`,`${u}cdm-schema/src/linkml/cdm_enums.yaml`];return{schemas:(await Promise.all(l.map(d=>fetch(d).then(h=>{if(!h.ok)throw new Error(`Failed to fetch ${d}`);return h.text()})))).map(d=>Bh.load(d)),metadata:{version:"0.0.1",lastUpdated:new Date().toISOString(),commit:"local",source:"fallback"}}},[]);return{loadCDMSchema:U.useCallback(async()=>{n(!0),t(null);try{let u;try{u=await a()}catch(h){console.warn("GitHub loading failed, falling back to local files:",h);try{u=await o()}catch(g){throw new Error(`Both GitHub and fallback loading failed. GitHub: ${h}. Fallback: ${g}`)}}const{schemas:l,metadata:c}=u,f=XE(l,c);e(f);const d=HE(f);r(d),console.log(`Schema loaded successfully from ${c.source}:`,{version:c.version,lastUpdated:c.lastUpdated,commit:c.commit,entities:Object.keys(f.classes).length,slots:Object.keys(f.slots).length})}catch(u){console.error("Error loading schema:",u),t(u instanceof Error?u.message:"Failed to load schema")}finally{n(!1)}},[e,r,n,t,a,o]),fetchSchemaMetadata:i}}function XE(e,r){var t,i,a;const n={id:((t=e[0])==null?void 0:t.id)||"cdm-schema",name:((i=e[0])==null?void 0:i.name)||"KBase CDM Schema",description:((a=e[0])==null?void 0:a.description)||"KBase Common Data Model - Dynamically loaded from GitHub",version:r.version,classes:{},slots:{},enums:{},metadata:{lastUpdated:r.lastUpdated,commit:r.commit,source:r.source,loadedAt:new Date().toISOString()}};for(const o of e)o!=null&&o.classes&&Object.assign(n.classes,o.classes),o!=null&&o.slots&&Object.assign(n.slots,o.slots),o!=null&&o.enums&&Object.assign(n.enums||{},o.enums);return n}function QE(e,r){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),t=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(t),n.body.appendChild(i),r&&(t.href=r),i.href=e,i.href}const JE=(()=>{let e=0;const r=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${r()}${e}`)})();function Ce(e){const r=[];for(let n=0,t=e.length;n<t;n++)r.push(e[n]);return r}let Ye=null;function ug(e={}){return Ye||(e.includeStyleProperties?(Ye=e.includeStyleProperties,Ye):(Ye=Ce(window.getComputedStyle(document.documentElement)),Ye))}function Kr(e,r){const t=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(r);return t?parseFloat(t.replace("px","")):0}function ZE(e){const r=Kr(e,"border-left-width"),n=Kr(e,"border-right-width");return e.clientWidth+r+n}function eS(e){const r=Kr(e,"border-top-width"),n=Kr(e,"border-bottom-width");return e.clientHeight+r+n}function cg(e,r={}){const n=r.width||ZE(e),t=r.height||eS(e);return{width:n,height:t}}function rS(){let e,r;try{r=process}catch{}const n=r&&r.env?r.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Z=16384;function nS(e){(e.width>Z||e.height>Z)&&(e.width>Z&&e.height>Z?e.width>e.height?(e.height*=Z/e.width,e.width=Z):(e.width*=Z/e.height,e.height=Z):e.width>Z?(e.height*=Z/e.width,e.width=Z):(e.width*=Z/e.height,e.height=Z))}function Yr(e){return new Promise((r,n)=>{const t=new Image;t.onload=()=>{t.decode().then(()=>{requestAnimationFrame(()=>r(t))})},t.onerror=n,t.crossOrigin="anonymous",t.decoding="async",t.src=e})}async function tS(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(r=>`data:image/svg+xml;charset=utf-8,${r}`)}async function iS(e,r,n){const t="http://www.w3.org/2000/svg",i=document.createElementNS(t,"svg"),a=document.createElementNS(t,"foreignObject");return i.setAttribute("width",`${r}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${r} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),tS(i)}const Q=(e,r)=>{if(e instanceof r)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===r.name||Q(n,r)};function aS(e){const r=e.getPropertyValue("content");return`${e.cssText} content: '${r.replace(/'|"/g,"")}';`}function oS(e,r){return ug(r).map(n=>{const t=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${t}${i?" !important":""};`}).join(" ")}function sS(e,r,n,t){const i=`.${e}:${r}`,a=n.cssText?aS(n):oS(n,t);return document.createTextNode(`${i}{${a}}`)}function $h(e,r,n,t){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const o=JE();try{r.className=`${r.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(sS(o,n,i,t)),r.appendChild(s)}function uS(e,r,n){$h(e,r,":before",n),$h(e,r,":after",n)}const Uh="application/font-woff",Hh="image/jpeg",cS={woff:Uh,woff2:Uh,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Hh,jpeg:Hh,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function lS(e){const r=/\.([^./]*?)$/g.exec(e);return r?r[1]:""}function au(e){const r=lS(e).toLowerCase();return cS[r]||""}function fS(e){return e.split(/,/)[1]}function js(e){return e.search(/^(data:)/)!==-1}function dS(e,r){return`data:${r};base64,${e}`}async function lg(e,r,n){const t=await fetch(e,r);if(t.status===404)throw new Error(`Resource "${t.url}" not found`);const i=await t.blob();return new Promise((a,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{a(n({res:t,result:s.result}))}catch(u){o(u)}},s.readAsDataURL(i)})}const gs={};function hS(e,r,n){let t=e.replace(/\?.*/,"");return n&&(t=e),/ttf|otf|eot|woff2?/i.test(t)&&(t=t.replace(/.*\//,"")),r?`[${r}]${t}`:t}async function ou(e,r,n){const t=hS(e,r,n.includeQueryParams);if(gs[t]!=null)return gs[t];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await lg(e,n.fetchRequestInit,({res:o,result:s})=>(r||(r=o.headers.get("Content-Type")||""),fS(s)));i=dS(a,r)}catch(a){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;a&&(o=typeof a=="string"?a:a.message),o&&console.warn(o)}return gs[t]=i,i}async function pS(e){const r=e.toDataURL();return r==="data:,"?e.cloneNode(!1):Yr(r)}async function vS(e,r){if(e.currentSrc){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,o==null||o.drawImage(e,0,0,a.width,a.height);const s=a.toDataURL();return Yr(s)}const n=e.poster,t=au(n),i=await ou(n,t,r);return Yr(i)}async function gS(e,r){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await mn(e.contentDocument.body,r,!0)}catch{}return e.cloneNode(!1)}async function mS(e,r){return Q(e,HTMLCanvasElement)?pS(e):Q(e,HTMLVideoElement)?vS(e,r):Q(e,HTMLIFrameElement)?gS(e,r):e.cloneNode(fg(e))}const yS=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",fg=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function bS(e,r,n){var t,i;if(fg(r))return r;let a=[];return yS(e)&&e.assignedNodes?a=Ce(e.assignedNodes()):Q(e,HTMLIFrameElement)&&(!((t=e.contentDocument)===null||t===void 0)&&t.body)?a=Ce(e.contentDocument.body.childNodes):a=Ce(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||Q(e,HTMLVideoElement)||await a.reduce((o,s)=>o.then(()=>mn(s,n)).then(u=>{u&&r.appendChild(u)}),Promise.resolve()),r}function _S(e,r,n){const t=r.style;if(!t)return;const i=window.getComputedStyle(e);i.cssText?(t.cssText=i.cssText,t.transformOrigin=i.transformOrigin):ug(n).forEach(a=>{let o=i.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Q(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&r.getAttribute("d")&&(o=`path(${r.getAttribute("d")})`),t.setProperty(a,o,i.getPropertyPriority(a))})}function xS(e,r){Q(e,HTMLTextAreaElement)&&(r.innerHTML=e.value),Q(e,HTMLInputElement)&&r.setAttribute("value",e.value)}function wS(e,r){if(Q(e,HTMLSelectElement)){const n=r,t=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));t&&t.setAttribute("selected","")}}function ES(e,r,n){return Q(r,Element)&&(_S(e,r,n),uS(e,r,n),xS(e,r),wS(e,r)),r}async function SS(e,r){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const t={};for(let a=0;a<n.length;a++){const s=n[a].getAttribute("xlink:href");if(s){const u=e.querySelector(s),l=document.querySelector(s);!u&&l&&!t[s]&&(t[s]=await mn(l,r,!0))}}const i=Object.values(t);if(i.length){const a="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg");o.setAttribute("xmlns",a),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(a,"defs");o.appendChild(s);for(let u=0;u<i.length;u++)s.appendChild(i[u]);e.appendChild(o)}return e}async function mn(e,r,n){return!n&&r.filter&&!r.filter(e)?null:Promise.resolve(e).then(t=>mS(t,r)).then(t=>bS(e,t,r)).then(t=>ES(e,t,r)).then(t=>SS(t,r))}const dg=/url\((['"]?)([^'"]+?)\1\)/g,AS=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,CS=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function qS(e){const r=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${r})(['"]?\\))`,"g")}function RS(e){const r=[];return e.replace(dg,(n,t,i)=>(r.push(i),n)),r.filter(n=>!js(n))}async function kS(e,r,n,t,i){try{const a=n?QE(r,n):r,o=au(r);let s;return i||(s=await ou(a,o,t)),e.replace(qS(r),`$1${s}$3`)}catch{}return e}function TS(e,{preferredFontFormat:r}){return r?e.replace(CS,n=>{for(;;){const[t,,i]=AS.exec(n)||[];if(!i)return"";if(i===r)return`src: ${t};`}}):e}function hg(e){return e.search(dg)!==-1}async function pg(e,r,n){if(!hg(e))return e;const t=TS(e,n);return RS(t).reduce((a,o)=>a.then(s=>kS(s,o,r,n)),Promise.resolve(t))}async function Xe(e,r,n){var t;const i=(t=r.style)===null||t===void 0?void 0:t.getPropertyValue(e);if(i){const a=await pg(i,null,n);return r.style.setProperty(e,a,r.style.getPropertyPriority(e)),!0}return!1}async function IS(e,r){await Xe("background",e,r)||await Xe("background-image",e,r),await Xe("mask",e,r)||await Xe("-webkit-mask",e,r)||await Xe("mask-image",e,r)||await Xe("-webkit-mask-image",e,r)}async function jS(e,r){const n=Q(e,HTMLImageElement);if(!(n&&!js(e.src))&&!(Q(e,SVGImageElement)&&!js(e.href.baseVal)))return;const t=n?e.src:e.href.baseVal,i=await ou(t,au(t),r);await new Promise((a,o)=>{e.onload=a,e.onerror=r.onImageErrorHandler?(...u)=>{try{a(r.onImageErrorHandler(...u))}catch(l){o(l)}}:o;const s=e;s.decode&&(s.decode=a),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function OS(e,r){const t=Ce(e.childNodes).map(i=>vg(i,r));await Promise.all(t).then(()=>e)}async function vg(e,r){Q(e,Element)&&(await IS(e,r),await jS(e,r),await OS(e,r))}function LS(e,r){const{style:n}=e;r.backgroundColor&&(n.backgroundColor=r.backgroundColor),r.width&&(n.width=`${r.width}px`),r.height&&(n.height=`${r.height}px`);const t=r.style;return t!=null&&Object.keys(t).forEach(i=>{n[i]=t[i]}),e}const Vh={};async function zh(e){let r=Vh[e];if(r!=null)return r;const t=await(await fetch(e)).text();return r={url:e,cssText:t},Vh[e]=r,r}async function Wh(e,r){let n=e.cssText;const t=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let s=o.replace(t,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),lg(s,r.fetchRequestInit,({result:u})=>(n=n.replace(o,`url(${u})`),[o,u]))});return Promise.all(a).then(()=>n)}function Kh(e){if(e==null)return[];const r=[],n=/(\/\*[\s\S]*?\*\/)/gi;let t=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=i.exec(t);if(u===null)break;r.push(u[0])}t=t.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let u=a.exec(t);if(u===null){if(u=s.exec(t),u===null)break;a.lastIndex=s.lastIndex}else s.lastIndex=a.lastIndex;r.push(u[0])}return r}async function NS(e,r){const n=[],t=[];return e.forEach(i=>{if("cssRules"in i)try{Ce(i.cssRules||[]).forEach((a,o)=>{if(a.type===CSSRule.IMPORT_RULE){let s=o+1;const u=a.href,l=zh(u).then(c=>Wh(c,r)).then(c=>Kh(c).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?s+=1:i.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});t.push(l)}})}catch(a){const o=e.find(s=>s.href==null)||document.styleSheets[0];i.href!=null&&t.push(zh(i.href).then(s=>Wh(s,r)).then(s=>Kh(s).forEach(u=>{o.insertRule(u,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",a)}}),Promise.all(t).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Ce(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function FS(e){return e.filter(r=>r.type===CSSRule.FONT_FACE_RULE).filter(r=>hg(r.style.getPropertyValue("src")))}async function MS(e,r){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ce(e.ownerDocument.styleSheets),t=await NS(n,r);return FS(t)}function gg(e){return e.trim().replace(/["']/g,"")}function PS(e){const r=new Set;function n(t){(t.style.fontFamily||getComputedStyle(t).fontFamily).split(",").forEach(a=>{r.add(gg(a))}),Array.from(t.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),r}async function DS(e,r){const n=await MS(e,r),t=PS(e);return(await Promise.all(n.filter(a=>t.has(gg(a.style.fontFamily))).map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return pg(a.cssText,o,r)}))).join(`
`)}async function BS(e,r){const n=r.fontEmbedCSS!=null?r.fontEmbedCSS:r.skipFonts?null:await DS(e,r);if(n){const t=document.createElement("style"),i=document.createTextNode(n);t.appendChild(i),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function mg(e,r={}){const{width:n,height:t}=cg(e,r),i=await mn(e,r,!0);return await BS(i,r),await vg(i,r),LS(i,r),await iS(i,n,t)}async function GS(e,r={}){const{width:n,height:t}=cg(e,r),i=await mg(e,r),a=await Yr(i),o=document.createElement("canvas"),s=o.getContext("2d"),u=r.pixelRatio||rS(),l=r.canvasWidth||n,c=r.canvasHeight||t;return o.width=l*u,o.height=c*u,r.skipAutoScale||nS(o),o.style.width=`${l}`,o.style.height=`${c}`,r.backgroundColor&&(s.fillStyle=r.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(a,0,0,o.width,o.height),o}async function $S(e,r={}){return(await GS(e,r)).toDataURL()}var yg={exports:{}};(function(e,r){(function(n,t){t()})(de,function(){function n(l,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function t(l,c,f){var d=new XMLHttpRequest;d.open("GET",l),d.responseType="blob",d.onload=function(){u(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof de=="object"&&de.global===de?de:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,c,f){var d=o.URL||o.webkitURL,h=document.createElement("a");c=c||l.name||"download",h.download=c,h.rel="noopener",typeof l=="string"?(h.href=l,h.origin===location.origin?a(h):i(h.href)?t(l,c,f):a(h,h.target="_blank")):(h.href=d.createObjectURL(l),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,f){if(c=c||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,f),c);else if(i(l))t(l,c,f);else{var d=document.createElement("a");d.href=l,d.target="_blank",setTimeout(function(){a(d)})}}:function(l,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof l=="string")return t(l,c,f);var h=l.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||h&&g||s)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var w=m.result;w=v?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=w:location=w,d=null},m.readAsDataURL(l)}else{var b=o.URL||o.webkitURL,y=b.createObjectURL(l);d?d.location=y:location.href=y,d=null,setTimeout(function(){b.revokeObjectURL(y)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})})(yg);var ms=yg.exports;const Yh=e=>{const n=Math.max(1920,e.width+200),t=Math.max(1080,e.height+100*2);return{width:n,height:t}};function US(){var T;const{fitView:e,getNodes:r,getEdges:n}=Qh(),t=Me(_=>_.graph),i=Me(_=>_.loading),{loadCDMSchema:a}=sg(),[o,s]=U.useState("idle"),[u,l]=U.useState(""),{showGrid:c,toggleGrid:f,showMinimap:d,toggleMinimap:h,mode:g,setViewMode:v}=tr(),m=[{id:"overview",label:"Overview",description:"Simplified view"},{id:"detailed",label:"Detailed",description:"Show all attributes"},{id:"domain",label:"By Domain",description:"Group by domain"},{id:"compact",label:"Compact",description:"Minimal view"}],b=()=>{setTimeout(()=>{s("idle"),l("")},3e3)},y=async()=>{const _=r();if(_.length===0){s("error"),l("No nodes to export"),b();return}s("exporting"),l("PNG");const x=vu(_),{width:C,height:A}=Yh(x),k=gu(x,C,A,.1,2,.2);try{const E=document.querySelector(".react-flow");if(!E)throw new Error("React Flow element not found. Please ensure the diagram is loaded.");const j=E.querySelector(".react-flow__viewport");if(!j)throw new Error("React Flow viewport not found. The diagram structure may be invalid.");if(_.filter(V=>V.width&&V.height).length===0)throw new Error("No visible nodes found. Nodes may still be rendering.");const B=j.style.transform,ae=j.style.transition;j.style.transition="none",j.style.transform=`translate(${k.x}px, ${k.y}px) scale(${k.zoom})`,await new Promise(V=>{requestAnimationFrame(()=>{requestAnimationFrame(V)})});const Te=document.documentElement.classList.contains("dark"),le=await $S(E,{backgroundColor:Te?"#020817":"#ffffff",width:C,height:A,filter:V=>{var G,Ie,je,Oe;return!((G=V.classList)!=null&&G.contains("react-flow__minimap"))&&!((Ie=V.classList)!=null&&Ie.contains("react-flow__controls"))&&!((je=V.classList)!=null&&je.contains("react-flow__background"))&&!((Oe=V.classList)!=null&&Oe.contains("react-flow__attribution"))},style:{width:C+"px",height:A+"px"}});j.style.transform=B,j.style.transition=ae,ms.saveAs(le,`cdm-schema-diagram-${new Date().toISOString().slice(0,10)}.png`),s("success"),b()}catch(E){console.error("Error exporting PNG:",E),s("error"),b()}},w=async()=>{const _=r();if(_.length===0){s("error"),l("No nodes to export"),b();return}s("exporting"),l("SVG");try{const x=document.querySelector(".react-flow");if(!x)throw new Error("React Flow element not found. Please ensure the diagram is loaded.");if(_.filter(G=>G.width&&G.height).length===0)throw new Error("No visible nodes found. Nodes may still be rendering.");const A=vu(_),{width:k,height:E}=Yh(A),j=gu(A,k,E,.1,2,.2),O=x.querySelector(".react-flow__viewport");if(!O)throw new Error("React Flow viewport not found");const B=O.style.transform,ae=O.style.transition;O.style.transition="none",O.style.transform=`translate(${j.x}px, ${j.y}px) scale(${j.zoom})`,await new Promise(G=>{requestAnimationFrame(()=>{requestAnimationFrame(G)})});const Te=document.documentElement.classList.contains("dark"),le=await mg(x,{backgroundColor:Te?"#020817":"#ffffff",width:k,height:E,filter:G=>{var Ie,je,Oe,Ir;return!((Ie=G.classList)!=null&&Ie.contains("react-flow__minimap"))&&!((je=G.classList)!=null&&je.contains("react-flow__controls"))&&!((Oe=G.classList)!=null&&Oe.contains("react-flow__background"))&&!((Ir=G.classList)!=null&&Ir.contains("react-flow__attribution"))},style:{width:k+"px",height:E+"px"}});O.style.transform=B,O.style.transition=ae;let V;if(le.startsWith("data:image/svg+xml;base64,")){const G=atob(le.split(",")[1]);V=new Blob([G],{type:"image/svg+xml;charset=utf-8"})}else if(le.startsWith("data:image/svg+xml,")){const G=decodeURIComponent(le.split(",")[1]);V=new Blob([G],{type:"image/svg+xml;charset=utf-8"})}else V=await(await fetch(le)).blob();ms.saveAs(V,`cdm-schema-diagram-${new Date().toISOString().slice(0,10)}.svg`),s("success"),b()}catch(x){console.error("Error exporting SVG:",x),s("error"),b()}},S=()=>{const _=r(),x=n();if(_.length===0){s("error"),l("No nodes to export"),b();return}s("exporting"),l("JSON");const C={version:"1.0",metadata:{exportDate:new Date().toISOString(),nodeCount:_.length,edgeCount:x.length,viewMode:g,theme:document.documentElement.classList.contains("dark")?"dark":"light"},diagram:{nodes:_.map(A=>({id:A.id,type:A.type||"default",position:A.position,data:{...A.data,entity:A.data.entity||null,isExpanded:A.data.isExpanded||!1},width:A.width,height:A.height})),edges:x.map(A=>({id:A.id,source:A.source,target:A.target,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,type:A.type||"default",data:A.data||{},label:A.label||null}))},...(t==null?void 0:t.metadata)&&{graphMetadata:t.metadata}};try{const A=JSON.stringify(C,null,2),k=new Blob([A],{type:"application/json;charset=utf-8"});ms.saveAs(k,`cdm-schema-diagram-${new Date().toISOString().slice(0,10)}.json`),s("success"),b()}catch(A){console.error("Error exporting JSON:",A),s("error"),b()}};return p.jsxs("div",{className:"absolute left-4 top-4 flex items-center gap-2",children:[p.jsxs(Xh,{children:[p.jsxs(cr,{children:[p.jsx(lr,{asChild:!0,children:p.jsx("button",{onClick:()=>e({padding:.2}),className:"rounded-md border bg-background p-2 shadow-sm hover:bg-muted","aria-label":"Fit to view",children:p.jsx(fm,{size:16})})}),p.jsx(fr,{children:p.jsxs(dr,{className:"z-50 rounded-md bg-foreground px-3 py-1.5 text-xs text-background shadow-md",sideOffset:5,children:["Fit to view",p.jsx(hr,{className:"fill-foreground"})]})})]}),p.jsxs(cr,{children:[p.jsx(lr,{asChild:!0,children:p.jsx("button",{onClick:f,className:`rounded-md border bg-background p-2 shadow-sm hover:bg-muted ${c?"text-blue-600":""}`,"aria-label":"Toggle grid",children:p.jsx(sm,{size:16})})}),p.jsx(fr,{children:p.jsxs(dr,{className:"z-50 rounded-md bg-foreground px-3 py-1.5 text-xs text-background shadow-md",sideOffset:5,children:["Toggle grid",p.jsx(hr,{className:"fill-foreground"})]})})]}),p.jsxs(cr,{children:[p.jsx(lr,{asChild:!0,children:p.jsx("button",{onClick:h,className:`rounded-md border bg-background p-2 shadow-sm hover:bg-muted ${d?"text-blue-600":""}`,"aria-label":"Toggle minimap",children:p.jsx(lm,{size:16})})}),p.jsx(fr,{children:p.jsxs(dr,{className:"z-50 rounded-md bg-foreground px-3 py-1.5 text-xs text-background shadow-md",sideOffset:5,children:["Toggle minimap",p.jsx(hr,{className:"fill-foreground"})]})})]}),p.jsxs(cr,{children:[p.jsx(lr,{asChild:!0,children:p.jsx("button",{onClick:a,disabled:i,className:`rounded-md border bg-background p-2 shadow-sm hover:bg-muted ${i?"opacity-50 cursor-wait":""}`,"aria-label":"Refresh schema",children:p.jsx(hm,{size:16,className:i?"animate-spin":""})})}),p.jsx(fr,{children:p.jsxs(dr,{className:"z-50 rounded-md bg-foreground px-3 py-1.5 text-xs text-background shadow-md",sideOffset:5,children:["Refresh schema from GitHub",p.jsx(hr,{className:"fill-foreground"})]})})]}),p.jsxs(ys,{children:[p.jsx(bs,{asChild:!0,children:p.jsxs("button",{className:"flex items-center gap-2 rounded-md border bg-background px-3 py-2 text-sm shadow-sm hover:bg-muted","aria-label":"Select view mode",children:[p.jsx(cm,{size:16}),p.jsx("span",{className:"capitalize",children:g})]})}),p.jsx(xr,{children:p.jsxs(_s,{className:"z-50 min-w-[200px] rounded-md border bg-background p-1 shadow-lg",sideOffset:5,children:[p.jsx(xs,{className:"px-2 py-1.5 text-sm font-semibold",children:"View Mode"}),p.jsx(ws,{className:"my-1 h-px bg-border"}),m.map(_=>p.jsxs(Je,{className:"flex cursor-pointer flex-col rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:()=>v(_.id),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{children:_.label}),g===_.id&&p.jsx("span",{className:"text-blue-600",children:"✓"})]}),p.jsx("span",{className:"text-xs text-muted-foreground",children:_.description})]},_.id))]})})]}),p.jsxs(ys,{children:[p.jsx(bs,{asChild:!0,children:p.jsxs("button",{className:`flex items-center gap-2 rounded-md border bg-background px-3 py-2 text-sm shadow-sm hover:bg-muted ${o==="exporting"?"opacity-50 cursor-wait":""} ${o==="success"?"border-green-500 text-green-600":""} ${o==="error"?"border-red-500 text-red-600":""}`,"aria-label":"Export",disabled:o==="exporting",children:[o==="exporting"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),p.jsxs("span",{children:["Exporting ",u,"..."]})]}),o==="success"&&p.jsxs(p.Fragment,{children:[p.jsx(rm,{size:16}),p.jsx("span",{children:"Exported!"})]}),o==="error"&&p.jsxs(p.Fragment,{children:[p.jsx(em,{size:16}),p.jsx("span",{children:u||"Export Failed"})]}),o==="idle"&&p.jsxs(p.Fragment,{children:[p.jsx(im,{size:16}),p.jsx("span",{children:"Export"})]})]})}),p.jsx(xr,{children:p.jsxs(_s,{className:"z-50 min-w-[160px] rounded-md border bg-background p-1 shadow-lg",sideOffset:5,children:[p.jsx(xs,{className:"px-2 py-1.5 text-sm font-semibold",children:"Export As"}),p.jsx(ws,{className:"my-1 h-px bg-border"}),p.jsx(Je,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:y,children:"PNG Image"}),p.jsx(Je,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:w,children:"SVG Vector"}),p.jsx(Je,{className:"flex cursor-pointer items-center rounded px-2 py-1.5 text-sm outline-none hover:bg-muted",onClick:S,children:"JSON Data"})]})})]})]}),t&&p.jsxs("div",{className:"ml-4 flex items-center gap-4 text-sm text-muted-foreground",children:[p.jsxs("span",{children:[t.nodes.length," entities"]}),p.jsxs("span",{children:[t.edges.length," relationships"]}),((T=t.metadata)==null?void 0:T.source)&&p.jsxs(cr,{children:[p.jsx(lr,{asChild:!0,children:p.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-md bg-muted/50",children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${t.metadata.source==="remote"?"bg-green-500":"bg-yellow-500"}`}),p.jsxs("span",{className:"text-xs",children:[t.metadata.source==="remote"?"Live":"Local"," Schema"]})]})}),p.jsx(fr,{children:p.jsxs(dr,{className:"z-50 max-w-xs rounded-md bg-foreground px-3 py-2 text-xs text-background shadow-md",sideOffset:5,children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Source:"})," ",t.metadata.source==="remote"?"GitHub Repository":"Local Files"]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Version:"})," ",t.metadata.source==="remote"?"latest":"v0.0.1"]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Last Updated:"})," ",new Date(t.metadata.lastUpdated).toLocaleDateString()]}),t.metadata.commit&&t.metadata.commit!=="local"&&p.jsxs("div",{children:[p.jsx("strong",{children:"Commit:"})," ",t.metadata.commit]})]}),p.jsx(hr,{className:"fill-foreground"})]})})]})]})]})}const HS={default:tp},VS={default:Cm};function zS(){const e=Me(x=>x.graph),{showMinimap:r,showGrid:n,mode:t,selectedTypes:i,showRelationships:a,selectedNodes:o,selectNode:s,clearSelection:u,searchQuery:l}=tr(),[c,f,d]=Ug([]),[h,g,v]=Hg([]),{applyLayout:m,applyGridLayout:b,applyDomainLayout:y}=S1();U.useEffect(()=>{if(e){let x=e.nodes.filter(E=>{var j;if(!i.includes(E.data.type))return!1;if(l){const O=l.toLowerCase();return E.data.label.toLowerCase().includes(O)||((j=E.data.description)==null?void 0:j.toLowerCase().includes(O))||E.data.attributes.some(B=>B.name.toLowerCase().includes(O))}return!0}),C=a?e.edges.filter(E=>{const j=x.some(B=>B.id===E.source),O=x.some(B=>B.id===E.target);return j&&O}):[];const A=x.map(E=>({...E,selected:o.includes(E.id),data:{...E.data,isSelected:o.includes(E.id)}}));let k;switch(t){case"domain":k=y(A,C);break;case"detailed":case"compact":k=m(A,C,"TB");break;case"overview":default:k=b(A,C);break}f(k),g(C)}},[e,t,i,a,o,l,f,g,m,b,y]);const w=U.useCallback(x=>g(C=>Vg(x,C)),[g]),S=U.useCallback((x,C)=>{s(C.id,x.ctrlKey||x.metaKey)},[s]),T=U.useCallback((x,C)=>{const{toggleNodeExpanded:A}=Me.getState();A(C.id)},[]),_=U.useCallback(()=>{u()},[u]);return e?p.jsxs("div",{className:"relative h-full w-full",children:[p.jsxs(zg,{nodes:c,edges:h,onNodesChange:d,onEdgesChange:v,onConnect:w,onNodeClick:S,onNodeDoubleClick:T,onPaneClick:_,nodeTypes:HS,edgeTypes:VS,fitView:!0,attributionPosition:"bottom-left",className:"bg-background",defaultEdgeOptions:{type:"default",animated:!1},children:[p.jsx(qm,{}),n&&p.jsx(Wg,{variant:Kg.Lines,gap:20,lineWidth:.5,className:"stroke-gray-200 dark:stroke-gray-700"}),p.jsx(Yg,{position:"bottom-right"}),r&&p.jsx(Xg,{position:"top-right",nodeColor:()=>"#E5E7EB",nodeStrokeColor:()=>"#6B7280",nodeStrokeWidth:1,pannable:!0,zoomable:!0})]}),p.jsx(US,{})]}):p.jsx("div",{className:"flex h-full items-center justify-center",children:p.jsx("p",{className:"text-muted-foreground",children:"No schema loaded"})})}function WS(){const[e,r]=U.useState(!1),n=Me(v=>v.graph),{fitView:t}=Qh(),{searchQuery:i,setSearchQuery:a,selectedTypes:o,toggleEntityType:s,showRelationships:u,toggleRelationships:l,clearFilters:c,selectNode:f,setFocusedNode:d}=tr();if(!n)return null;const h=[{id:"core",label:"Core Entities",color:"bg-entity-core"},{id:"relationship",label:"Relationships",color:"bg-entity-relationship"},{id:"metadata",label:"Metadata",color:"bg-entity-metadata"},{id:"experimental",label:"Experimental",color:"bg-entity-experimental"},{id:"enum",label:"Enumerations",color:"bg-entity-enum"}],g=n.nodes.filter(v=>{var m;if(!o.includes(v.data.type))return!1;if(i){const b=i.toLowerCase();return v.data.label.toLowerCase().includes(b)||((m=v.data.description)==null?void 0:m.toLowerCase().includes(b))||v.data.attributes.some(y=>y.name.toLowerCase().includes(b))}return!0});return p.jsxs("div",{className:rr("relative flex h-full flex-col border-r bg-background transition-all duration-300",e?"w-12":"w-80"),children:[p.jsx("button",{onClick:()=>r(!e),className:"absolute -right-3 top-4 z-10 rounded-full border bg-background p-1 shadow-sm hover:bg-muted","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?p.jsx(tm,{size:14}):p.jsx(nm,{size:14})}),!e&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"border-b p-4",children:p.jsxs("div",{className:"relative",children:[p.jsx(pm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),p.jsx("input",{type:"text",placeholder:"Search entities...",value:i,onChange:v=>a(v.target.value),className:"w-full rounded-md border bg-background py-2 pl-10 pr-10 text-sm outline-none focus:border-blue-500"}),i&&p.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p.jsx(mm,{size:16})})]})}),p.jsxs("div",{className:"border-b p-4",children:[p.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[p.jsxs("h3",{className:"flex items-center gap-2 text-sm font-medium",children:[p.jsx(am,{size:14}),"Filters"]}),p.jsx("button",{onClick:c,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),p.jsx("div",{className:"space-y-2",children:h.map(v=>p.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:o.includes(v.id),onChange:()=>s(v.id),className:"rounded"}),p.jsx("span",{className:rr("h-3 w-3 rounded",v.color)}),p.jsx("span",{children:v.label})]},v.id))}),p.jsx("div",{className:"mt-3 border-t pt-3",children:p.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:u,onChange:l,className:"rounded"}),p.jsx("span",{children:"Show connections"})]})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[p.jsx("div",{className:"mb-3 flex items-center justify-between",children:p.jsxs("h3",{className:"text-sm font-medium",children:["Entities (",g.length,"/",n.nodes.length,")"]})}),p.jsx("div",{className:"space-y-2",children:g.map(v=>p.jsxs("div",{className:"cursor-pointer rounded-md border p-2 text-sm hover:bg-muted",onClick:()=>{f(v.id),d(v.id),t({nodes:[{id:v.id}],duration:800,padding:.3})},children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:rr("h-2 w-2 rounded-full",{"bg-entity-core":v.data.type==="core","bg-entity-relationship":v.data.type==="relationship","bg-entity-metadata":v.data.type==="metadata","bg-entity-experimental":v.data.type==="experimental","bg-entity-enum":v.data.type==="enum"})}),p.jsx("span",{className:"font-medium",children:v.data.label})]}),v.data.description&&p.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:v.data.description}),p.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[v.data.attributes.length," attributes"]})]},v.id))})]})]})]})}function KS(){const{loading:e,error:r}=Me(),{loadCDMSchema:n}=sg();return U.useEffect(()=>{n()},[n]),e?p.jsx("div",{className:"flex h-full items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-t-2 border-blue-500"}),p.jsx("p",{className:"text-muted-foreground",children:"Loading CDM Schema..."})]})}):r?p.jsx("div",{className:"flex h-full items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"mb-2 text-red-500",children:"Error loading schema"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})}):p.jsxs("div",{className:"flex h-full",children:[p.jsx(WS,{}),p.jsx("div",{className:"flex-1",children:p.jsx(zS,{})})]})}class YS extends se.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return console.error("🚨 ErrorBoundary caught an error:",r),{hasError:!0,error:r}}componentDidCatch(r,n){console.error("🚨 ErrorBoundary details:",{error:r,errorInfo:n}),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?p.jsx("div",{className:"flex h-screen items-center justify-center bg-red-50 dark:bg-red-950",children:p.jsxs("div",{className:"max-w-md rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800",children:[p.jsxs("div",{className:"mb-4 text-center",children:[p.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100 dark:bg-red-900",children:p.jsx("span",{className:"text-2xl",children:"🚨"})}),p.jsx("h1",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"Something went wrong"})]}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"The CDM Schema Viewer encountered an unexpected error."}),this.state.error&&p.jsxs("details",{className:"rounded bg-gray-50 p-3 dark:bg-gray-700",children:[p.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 dark:text-gray-300",children:"Error Details"}),p.jsxs("pre",{className:"mt-2 overflow-auto text-xs text-red-600 dark:text-red-400",children:[this.state.error.message,this.state.error.stack&&p.jsxs(p.Fragment,{children:[`

`,this.state.error.stack]})]})]}),p.jsx("button",{onClick:()=>{console.log("🔄 Reloading page..."),window.location.reload()},className:"w-full rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Reload Page"})]})]})}):this.props.children}}function XS(){return p.jsx(YS,{children:p.jsx(Xh,{children:p.jsx(Qg,{children:p.jsx(Fg,{children:p.jsx(pu,{path:"/",element:p.jsx(Sm,{}),children:p.jsx(pu,{index:!0,element:p.jsx(KS,{})})})})})})})}Es.createRoot(document.getElementById("root")).render(p.jsx(se.StrictMode,{children:p.jsx(Mg,{basename:"/cdm_schema_viewer",children:p.jsx(XS,{})})}));
//# sourceMappingURL=index-CO6X11eC.js.map
